2025-06-17 23:16:26 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-06-17 23:16:26 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-06-17 23:16:26 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-06-17 23:16:26 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-06-17 23:16:26 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-06-17 23:16:26 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-06-17 23:16:39 | INFO     | backend.services.rag_service:_initialize_chromadb:51 - Connected to existing ChromaDB collection: legal_documents
2025-06-17 23:16:39 | INFO     | backend.services.rag_service:_initialize_chromadb:51 - Connected to existing ChromaDB collection: legal_documents
2025-06-17 23:16:39 | INFO     | backend.main:startup_event:43 - Starting Law Firm AI Assistant API
2025-06-17 23:16:39 | INFO     | backend.main:startup_event:44 - LLM API URL: https://your-coreweave-endpoint.com/v1/chat/completions
2025-06-17 23:16:39 | INFO     | backend.main:startup_event:45 - ChromaDB Path: ./data/chroma_db
2025-06-17 23:22:09 | INFO     | backend.routes.chat:chat_completion:36 - Retrieving RAG context for query: Hello...
2025-06-17 23:22:09 | INFO     | backend.services.rag_service:search_documents:168 - Searching for query: Hello...
2025-06-17 23:22:10 | ERROR    | backend.services.rag_service:_get_embedding:91 - Error getting embedding: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-06-17 23:22:10 | ERROR    | backend.services.rag_service:search_documents:208 - Error searching documents: Failed to get embedding: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-06-17 23:22:10 | ERROR    | backend.routes.chat:chat_completion:85 - Error in chat completion: Failed to search documents: Failed to get embedding: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-06-17 23:35:03 | INFO     | backend.routes.documents:upload_document:46 - Processing document upload: نظري.pdf
2025-06-17 23:35:03 | INFO     | backend.services.document_processor:process_pdf:54 - Processing PDF: نظري.pdf
2025-06-17 23:35:03 | ERROR    | backend.services.document_processor:process_pdf:76 - Error processing PDF نظري.pdf: No extractable text found in PDF
2025-06-17 23:35:03 | ERROR    | backend.routes.documents:upload_document:79 - Error processing document نظري.pdf: Failed to process PDF: No extractable text found in PDF
2025-06-17 23:35:24 | INFO     | backend.routes.documents:upload_document:46 - Processing document upload: Final_Exam_-_EPM213s.pdf
2025-06-17 23:35:24 | INFO     | backend.services.document_processor:process_pdf:54 - Processing PDF: Final_Exam_-_EPM213s.pdf
2025-06-17 23:35:25 | INFO     | backend.services.document_processor:process_pdf:72 - Successfully processed Final_Exam_-_EPM213s.pdf: 1 chunks created
2025-06-17 23:35:25 | INFO     | backend.services.rag_service:index_document_chunks:109 - Indexing 1 chunks for document Final_Exam_-_EPM213s.pdf
2025-06-17 23:35:25 | ERROR    | backend.services.rag_service:_get_embedding:91 - Error getting embedding: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-06-17 23:35:25 | ERROR    | backend.services.rag_service:index_document_chunks:147 - Error indexing document chunks: Failed to get embedding: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-06-17 23:35:25 | ERROR    | backend.routes.documents:upload_document:79 - Error processing document Final_Exam_-_EPM213s.pdf: Failed to index document chunks: Failed to get embedding: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope************here. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-06-17 23:38:07 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-06-17 23:38:07 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-06-17 23:38:07 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-06-17 23:38:07 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-06-17 23:38:07 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-06-17 23:38:07 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-06-17 23:38:10 | INFO     | backend.services.rag_service:_initialize_chromadb:51 - Connected to existing ChromaDB collection: legal_documents
2025-06-17 23:38:10 | INFO     | backend.services.rag_service:_initialize_chromadb:51 - Connected to existing ChromaDB collection: legal_documents
2025-06-17 23:38:10 | INFO     | backend.main:startup_event:43 - Starting Law Firm AI Assistant API
2025-06-17 23:38:10 | INFO     | backend.main:startup_event:44 - LLM API URL: https://your-coreweave-endpoint.com/v1/chat/completions
2025-06-17 23:38:10 | INFO     | backend.main:startup_event:45 - ChromaDB Path: ./data/chroma_db
2025-06-17 23:43:32 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-06-17 23:43:32 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-06-17 23:43:32 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-06-17 23:43:32 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-06-17 23:43:32 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-06-17 23:43:32 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-06-17 23:43:37 | ERROR    | __main__:main:103 - Server startup failed: no such column: collections.topic
2025-06-17 23:45:06 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-06-17 23:45:06 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-06-17 23:45:06 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-06-17 23:45:06 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-06-17 23:45:06 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-06-17 23:45:06 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-06-17 23:45:12 | INFO     | backend.main:startup_event:43 - Starting Law Firm AI Assistant API
2025-06-17 23:45:12 | INFO     | backend.main:startup_event:44 - LLM API URL: https://your-coreweave-endpoint.com/v1/chat/completions
2025-06-17 23:45:12 | INFO     | backend.main:startup_event:45 - ChromaDB Path: ./data/chroma_db
2025-06-17 23:57:22 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-06-17 23:57:22 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-06-17 23:57:22 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-06-17 23:57:22 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-06-17 23:57:22 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-06-17 23:57:22 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-06-17 23:57:40 | INFO     | backend.main:startup_event:43 - Starting Law Firm AI Assistant API
2025-06-17 23:57:40 | INFO     | backend.main:startup_event:44 - LLM API URL: https://your-coreweave-endpoint.com/v1/chat/completions
2025-06-17 23:57:40 | INFO     | backend.main:startup_event:45 - ChromaDB Path: ./data/chroma_db
