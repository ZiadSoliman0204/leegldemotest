2025-07-22 00:40:34 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 00:40:34 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 00:40:34 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 00:40:34 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 00:40:34 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 00:40:34 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 00:40:40 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 00:40:40 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1
2025-07-22 00:40:40 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 00:43:59 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 00:43:59 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 00:43:59 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 00:43:59 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 00:43:59 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 00:43:59 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 00:44:02 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 00:44:02 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 00:44:02 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 00:49:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=44ecb64ac2b3883d, severity_level=INFO, request_id=b73a0872-8343-4cbb-9b2f-13640191ab03, details=Chat request initiated. Message length: 10 chars, RAG enabled: False, selected_docs: all documents, max_tokens: 50, temperature: 0.1
2025-07-22 00:49:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=44ecb64ac2b3883d, severity_level=INFO, request_id=b73a0872-8343-4cbb-9b2f-13640191ab03, details=Sending request to LLM API. Enhanced prompt length: 10 chars
2025-07-22 00:49:05 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 00:49:05 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1
2025-07-22 00:49:05 | ERROR    | backend.services.llm_client:chat_completion:114 - Unexpected error calling LLM API: Invalid response format from LLM API
2025-07-22 00:49:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_SYSTEM_ERROR, status=error, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=44ecb64ac2b3883d, severity_level=ERROR, request_id=b73a0872-8343-4cbb-9b2f-13640191ab03, details=System error after 0.28s: Unexpected error in chat completion: Failed to call LLM API: Invalid response format from LLM API
2025-07-22 00:49:05 | ERROR    | backend.routes.chat:chat_completion:303 - Unexpected error in chat completion: Failed to call LLM API: Invalid response format from LLM API
2025-07-22 00:50:38 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 00:50:38 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 00:50:38 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 00:50:38 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 00:50:38 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 00:50:38 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 00:50:42 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 00:50:42 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 00:50:42 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 00:51:42 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=9cd89d3d-11e1-4ba2-971a-f4b40fe35304, details=Chat request initiated. Message length: 3 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 00:51:42 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hey...
2025-07-22 00:51:42 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=9cd89d3d-11e1-4ba2-971a-f4b40fe35304, details=Starting RAG document search for query hash: 581d43745726e0ee
2025-07-22 00:51:42 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=9cd89d3d-11e1-4ba2-971a-f4b40fe35304, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 00:51:42 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 00:51:42 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=9cd89d3d-11e1-4ba2-971a-f4b40fe35304, details=Sending request to LLM API. Enhanced prompt length: 3 chars
2025-07-22 00:51:42 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 00:51:42 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 00:51:44 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=9cd89d3d-11e1-4ba2-971a-f4b40fe35304, details=Chat completed successfully. Processing time: 2.34s, Response length: 126 chars, Tokens used: 87, RAG documents: 0
2025-07-22 00:51:44 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 2.34 seconds
2025-07-22 00:51:56 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f250b253990c36b6, severity_level=INFO, request_id=43e5aa32-5ac7-4c90-a12a-4db2df886a75, details=Chat request initiated. Message length: 11 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 00:51:56 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: I am lawyer...
2025-07-22 00:51:56 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f250b253990c36b6, severity_level=INFO, request_id=43e5aa32-5ac7-4c90-a12a-4db2df886a75, details=Starting RAG document search for query hash: f250b253990c36b6
2025-07-22 00:51:56 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f250b253990c36b6, severity_level=INFO, request_id=43e5aa32-5ac7-4c90-a12a-4db2df886a75, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 00:51:56 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 00:51:56 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f250b253990c36b6, severity_level=INFO, request_id=43e5aa32-5ac7-4c90-a12a-4db2df886a75, details=Sending request to LLM API. Enhanced prompt length: 11 chars
2025-07-22 00:51:56 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 00:51:56 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 00:52:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f250b253990c36b6, severity_level=INFO, request_id=43e5aa32-5ac7-4c90-a12a-4db2df886a75, details=Chat completed successfully. Processing time: 11.16s, Response length: 514 chars, Tokens used: 178, RAG documents: 0
2025-07-22 00:52:07 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 11.16 seconds
2025-07-22 00:53:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=dbe78427-b31f-479c-805e-632745f2a60b, details=Chat request initiated. Message length: 3 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 00:53:05 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hey...
2025-07-22 00:53:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=dbe78427-b31f-479c-805e-632745f2a60b, details=Starting RAG document search for query hash: 581d43745726e0ee
2025-07-22 00:53:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=dbe78427-b31f-479c-805e-632745f2a60b, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 00:53:05 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 00:53:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=dbe78427-b31f-479c-805e-632745f2a60b, details=Sending request to LLM API. Enhanced prompt length: 3 chars
2025-07-22 00:53:05 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 00:53:05 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 00:53:09 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=dbe78427-b31f-479c-805e-632745f2a60b, details=Chat completed successfully. Processing time: 3.90s, Response length: 127 chars, Tokens used: 87, RAG documents: 0
2025-07-22 00:53:09 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 3.90 seconds
2025-07-22 00:53:31 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=31b58154ae93c5f4, severity_level=INFO, request_id=d8a7bca9-fd9b-4583-9a11-010c2c5a03cd, details=Chat request initiated. Message length: 27 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 00:53:31 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Yes, tell me any small info...
2025-07-22 00:53:31 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=31b58154ae93c5f4, severity_level=INFO, request_id=d8a7bca9-fd9b-4583-9a11-010c2c5a03cd, details=Starting RAG document search for query hash: 31b58154ae93c5f4
2025-07-22 00:53:31 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=31b58154ae93c5f4, severity_level=INFO, request_id=d8a7bca9-fd9b-4583-9a11-010c2c5a03cd, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 00:53:31 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 00:53:31 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=31b58154ae93c5f4, severity_level=INFO, request_id=d8a7bca9-fd9b-4583-9a11-010c2c5a03cd, details=Sending request to LLM API. Enhanced prompt length: 27 chars
2025-07-22 00:53:31 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 00:53:31 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 00:53:33 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=31b58154ae93c5f4, severity_level=INFO, request_id=d8a7bca9-fd9b-4583-9a11-010c2c5a03cd, details=Chat completed successfully. Processing time: 1.67s, Response length: 79 chars, Tokens used: 84, RAG documents: 0
2025-07-22 00:53:33 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 1.67 seconds
2025-07-22 00:54:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=185f8db32271fe25, severity_level=INFO, request_id=c966b869-2c0e-4200-b8d6-b3c46d3290be, details=Chat request initiated. Message length: 5 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 00:54:39 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hello...
2025-07-22 00:54:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=185f8db32271fe25, severity_level=INFO, request_id=c966b869-2c0e-4200-b8d6-b3c46d3290be, details=Starting RAG document search for query hash: 185f8db32271fe25
2025-07-22 00:54:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=185f8db32271fe25, severity_level=INFO, request_id=c966b869-2c0e-4200-b8d6-b3c46d3290be, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 00:54:39 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 00:54:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=185f8db32271fe25, severity_level=INFO, request_id=c966b869-2c0e-4200-b8d6-b3c46d3290be, details=Sending request to LLM API. Enhanced prompt length: 5 chars
2025-07-22 00:54:39 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 00:54:39 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 00:54:42 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=185f8db32271fe25, severity_level=INFO, request_id=c966b869-2c0e-4200-b8d6-b3c46d3290be, details=Chat completed successfully. Processing time: 2.40s, Response length: 147 chars, Tokens used: 91, RAG documents: 0
2025-07-22 00:54:42 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 2.40 seconds
2025-07-22 00:55:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e8d92dd21876de5d, severity_level=INFO, request_id=bff009b5-29da-44be-91be-af29f2d32e3e, details=Chat request initiated. Message length: 32 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 00:55:00 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Tell me anything quick about law...
2025-07-22 00:55:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e8d92dd21876de5d, severity_level=INFO, request_id=bff009b5-29da-44be-91be-af29f2d32e3e, details=Starting RAG document search for query hash: e8d92dd21876de5d
2025-07-22 00:55:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e8d92dd21876de5d, severity_level=INFO, request_id=bff009b5-29da-44be-91be-af29f2d32e3e, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 00:55:00 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 00:55:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e8d92dd21876de5d, severity_level=INFO, request_id=bff009b5-29da-44be-91be-af29f2d32e3e, details=Sending request to LLM API. Enhanced prompt length: 32 chars
2025-07-22 00:55:00 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 00:55:00 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 00:55:18 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e8d92dd21876de5d, severity_level=INFO, request_id=bff009b5-29da-44be-91be-af29f2d32e3e, details=Chat completed successfully. Processing time: 17.79s, Response length: 1245 chars, Tokens used: 340, RAG documents: 0
2025-07-22 00:55:18 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 17.79 seconds
2025-07-22 01:20:49 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=068e9ec162e812b1, severity_level=INFO, request_id=b203b3ee-7369-46b4-b56e-2a753740ad8f, details=Chat request initiated. Message length: 19 chars, RAG enabled: False, selected_docs: all documents, max_tokens: 50, temperature: 0.1
2025-07-22 01:20:49 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=068e9ec162e812b1, severity_level=INFO, request_id=b203b3ee-7369-46b4-b56e-2a753740ad8f, details=Sending request to LLM API. Enhanced prompt length: 19 chars
2025-07-22 01:20:49 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:20:49 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:20:52 | ERROR    | backend.services.llm_client:chat_completion:114 - Unexpected error calling LLM API: All connection attempts failed
2025-07-22 01:20:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_SYSTEM_ERROR, status=error, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=068e9ec162e812b1, severity_level=ERROR, request_id=b203b3ee-7369-46b4-b56e-2a753740ad8f, details=System error after 2.27s: Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 01:20:52 | ERROR    | backend.routes.chat:chat_completion:303 - Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 01:27:25 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 01:27:25 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 01:27:25 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 01:27:25 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 01:27:25 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 01:27:25 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 01:27:30 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 01:27:30 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 01:27:30 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 01:28:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=5e68782e-9b39-49ce-bbbf-0c71f1ab12b3, details=Chat request initiated. Message length: 3 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:28:45 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hey...
2025-07-22 01:28:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=5e68782e-9b39-49ce-bbbf-0c71f1ab12b3, details=Starting RAG document search for query hash: 581d43745726e0ee
2025-07-22 01:28:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=5e68782e-9b39-49ce-bbbf-0c71f1ab12b3, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 01:28:45 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:28:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=5e68782e-9b39-49ce-bbbf-0c71f1ab12b3, details=Sending request to LLM API. Enhanced prompt length: 3 chars
2025-07-22 01:28:45 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:28:45 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:28:57 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=5e68782e-9b39-49ce-bbbf-0c71f1ab12b3, details=Chat completed successfully. Processing time: 12.19s, Response length: 130 chars, Tokens used: 87, RAG documents: 0
2025-07-22 01:28:57 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 12.19 seconds
2025-07-22 01:29:17 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f3bb9823ad687e4b, severity_level=INFO, request_id=5833723a-020c-475e-b61b-b338739f4438, details=Chat request initiated. Message length: 30 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:29:17 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: I need love, nothing about law...
2025-07-22 01:29:17 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f3bb9823ad687e4b, severity_level=INFO, request_id=5833723a-020c-475e-b61b-b338739f4438, details=Starting RAG document search for query hash: f3bb9823ad687e4b
2025-07-22 01:29:17 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f3bb9823ad687e4b, severity_level=INFO, request_id=5833723a-020c-475e-b61b-b338739f4438, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 01:29:17 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:29:17 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f3bb9823ad687e4b, severity_level=INFO, request_id=5833723a-020c-475e-b61b-b338739f4438, details=Sending request to LLM API. Enhanced prompt length: 30 chars
2025-07-22 01:29:17 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:29:17 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:29:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f3bb9823ad687e4b, severity_level=INFO, request_id=5833723a-020c-475e-b61b-b338739f4438, details=Chat completed successfully. Processing time: 22.15s, Response length: 1663 chars, Tokens used: 425, RAG documents: 0
2025-07-22 01:29:39 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 22.15 seconds
2025-07-22 01:31:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=35ea07218ad79f52, severity_level=INFO, request_id=6d479cdf-67a2-451e-94ef-eae6d131eccf, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:31:43 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was Johnson hired?...
2025-07-22 01:31:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=35ea07218ad79f52, severity_level=INFO, request_id=6d479cdf-67a2-451e-94ef-eae6d131eccf, details=Starting RAG document search for query hash: 35ea07218ad79f52
2025-07-22 01:31:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=35ea07218ad79f52, severity_level=INFO, request_id=6d479cdf-67a2-451e-94ef-eae6d131eccf, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 01:31:43 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:31:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=35ea07218ad79f52, severity_level=INFO, request_id=6d479cdf-67a2-451e-94ef-eae6d131eccf, details=Sending request to LLM API. Enhanced prompt length: 23 chars
2025-07-22 01:31:43 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:31:43 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:31:46 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=35ea07218ad79f52, severity_level=INFO, request_id=6d479cdf-67a2-451e-94ef-eae6d131eccf, details=Chat completed successfully. Processing time: 3.12s, Response length: 229 chars, Tokens used: 107, RAG documents: 0
2025-07-22 01:31:46 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 3.12 seconds
2025-07-22 01:32:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=35ea07218ad79f52, severity_level=INFO, request_id=ffab8807-e693-4d5b-b256-f0a69d031540, details=Chat request initiated. Message length: 23 chars, RAG enabled: False, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:32:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=35ea07218ad79f52, severity_level=INFO, request_id=ffab8807-e693-4d5b-b256-f0a69d031540, details=Sending request to LLM API. Enhanced prompt length: 23 chars
2025-07-22 01:32:07 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:32:07 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:32:11 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=35ea07218ad79f52, severity_level=INFO, request_id=ffab8807-e693-4d5b-b256-f0a69d031540, details=Chat completed successfully. Processing time: 3.74s, Response length: 275 chars, Tokens used: 120, RAG documents: 0
2025-07-22 01:32:11 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 3.74 seconds
2025-07-22 01:32:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=39afd4d24f23e356, severity_level=INFO, request_id=55c142fa-000f-4c63-b340-fbf893985df9, details=Chat request initiated. Message length: 33 chars, RAG enabled: False, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:32:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=39afd4d24f23e356, severity_level=INFO, request_id=55c142fa-000f-4c63-b340-fbf893985df9, details=Sending request to LLM API. Enhanced prompt length: 33 chars
2025-07-22 01:32:23 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:32:23 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:32:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=39afd4d24f23e356, severity_level=INFO, request_id=55c142fa-000f-4c63-b340-fbf893985df9, details=Chat completed successfully. Processing time: 3.11s, Response length: 182 chars, Tokens used: 110, RAG documents: 0
2025-07-22 01:32:26 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 3.11 seconds
2025-07-22 01:32:47 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=62a7f6d1afa701f0, severity_level=INFO, request_id=8384744a-e7a4-4154-a98e-b6c9bf214b47, details=Chat request initiated. Message length: 15 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:32:47 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: what about now?...
2025-07-22 01:32:47 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=62a7f6d1afa701f0, severity_level=INFO, request_id=8384744a-e7a4-4154-a98e-b6c9bf214b47, details=Starting RAG document search for query hash: 62a7f6d1afa701f0
2025-07-22 01:32:47 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=62a7f6d1afa701f0, severity_level=INFO, request_id=8384744a-e7a4-4154-a98e-b6c9bf214b47, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 01:32:47 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:32:47 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=62a7f6d1afa701f0, severity_level=INFO, request_id=8384744a-e7a4-4154-a98e-b6c9bf214b47, details=Sending request to LLM API. Enhanced prompt length: 15 chars
2025-07-22 01:32:47 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:32:47 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:32:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=62a7f6d1afa701f0, severity_level=INFO, request_id=8384744a-e7a4-4154-a98e-b6c9bf214b47, details=Chat completed successfully. Processing time: 4.40s, Response length: 317 chars, Tokens used: 127, RAG documents: 0
2025-07-22 01:32:52 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 4.40 seconds
2025-07-22 01:34:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=bd6575fed3cc3a4a, severity_level=INFO, request_id=2181be88-9d45-418e-941d-eb5d59724857, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:34:20 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Test with document context...
2025-07-22 01:34:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=bd6575fed3cc3a4a, severity_level=INFO, request_id=2181be88-9d45-418e-941d-eb5d59724857, details=Starting RAG document search for query hash: bd6575fed3cc3a4a
2025-07-22 01:34:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=bd6575fed3cc3a4a, severity_level=INFO, request_id=2181be88-9d45-418e-941d-eb5d59724857, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 01:34:20 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:34:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=bd6575fed3cc3a4a, severity_level=INFO, request_id=2181be88-9d45-418e-941d-eb5d59724857, details=Sending request to LLM API. Enhanced prompt length: 26 chars
2025-07-22 01:34:20 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:34:20 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:34:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=bd6575fed3cc3a4a, severity_level=INFO, request_id=2181be88-9d45-418e-941d-eb5d59724857, details=Chat completed successfully. Processing time: 4.79s, Response length: 347 chars, Tokens used: 131, RAG documents: 0
2025-07-22 01:34:25 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 4.79 seconds
2025-07-22 01:34:59 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 01:34:59 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 01:34:59 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 01:34:59 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 01:34:59 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 01:34:59 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 01:35:03 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 01:35:03 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 01:35:03 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 01:35:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=c1010c94f230d64e, severity_level=INFO, request_id=3868aa78-1459-4641-b3ef-d337bbbb7344, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:35:16 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What does this document say?...
2025-07-22 01:35:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=c1010c94f230d64e, severity_level=INFO, request_id=3868aa78-1459-4641-b3ef-d337bbbb7344, details=Starting RAG document search for query hash: c1010c94f230d64e
2025-07-22 01:35:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=c1010c94f230d64e, severity_level=INFO, request_id=3868aa78-1459-4641-b3ef-d337bbbb7344, details=No relevant documents found above similarity threshold (0.7)
2025-07-22 01:35:16 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:35:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=c1010c94f230d64e, severity_level=INFO, request_id=3868aa78-1459-4641-b3ef-d337bbbb7344, details=Sending request to LLM API. Enhanced prompt length: 28 chars
2025-07-22 01:35:16 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:35:16 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:35:19 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=c1010c94f230d64e, severity_level=INFO, request_id=3868aa78-1459-4641-b3ef-d337bbbb7344, details=Chat completed successfully. Processing time: 3.46s, Response length: 206 chars, Tokens used: 109, RAG documents: 0
2025-07-22 01:35:19 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 3.46 seconds
2025-07-22 01:36:54 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 01:36:54 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 01:36:54 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 01:36:54 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 01:36:54 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 01:36:54 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 01:36:58 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 01:36:58 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 01:36:58 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 01:37:03 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=03632a25-7985-4063-a940-78eba0cb92c4, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 150, temperature: 0.1
2025-07-22 01:37:03 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What does Case.txt say?...
2025-07-22 01:37:03 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=03632a25-7985-4063-a940-78eba0cb92c4, details=Starting RAG document search for query hash: cec53d859d356f1e
2025-07-22 01:37:03 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=03632a25-7985-4063-a940-78eba0cb92c4, details=No relevant documents found above similarity threshold (0.3)
2025-07-22 01:37:03 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:37:03 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=03632a25-7985-4063-a940-78eba0cb92c4, details=Sending request to LLM API. Enhanced prompt length: 23 chars
2025-07-22 01:37:03 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:37:03 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:37:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=03632a25-7985-4063-a940-78eba0cb92c4, details=Chat completed successfully. Processing time: 3.13s, Response length: 190 chars, Tokens used: 107, RAG documents: 0
2025-07-22 01:37:06 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 3.13 seconds
2025-07-22 01:38:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=8c576fe3-6b4c-4b9e-a310-b449dec48b2b, details=Chat request initiated. Message length: 30 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:38:07 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What information is available?...
2025-07-22 01:38:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=8c576fe3-6b4c-4b9e-a310-b449dec48b2b, details=Starting RAG document search for query hash: 1d58e4344e6c91a1
2025-07-22 01:38:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=8c576fe3-6b4c-4b9e-a310-b449dec48b2b, details=No relevant documents found above similarity threshold (0.3)
2025-07-22 01:38:07 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:38:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=8c576fe3-6b4c-4b9e-a310-b449dec48b2b, details=Sending request to LLM API. Enhanced prompt length: 30 chars
2025-07-22 01:38:07 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:38:07 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:38:14 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=8c576fe3-6b4c-4b9e-a310-b449dec48b2b, details=Chat completed successfully. Processing time: 6.67s, Response length: 514 chars, Tokens used: 163, RAG documents: 0
2025-07-22 01:38:14 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 6.67 seconds
2025-07-22 01:38:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f94cf724a331614c, severity_level=INFO, request_id=fbd1a2a6-efe4-4d4c-874a-87753563534d, details=Chat request initiated. Message length: 43 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:38:16 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What does Final_Exam_-_EPM213s.pdf contain?...
2025-07-22 01:38:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=fbd1a2a6-efe4-4d4c-874a-87753563534d, details=Starting RAG document search for query hash: f94cf724a331614c
2025-07-22 01:38:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=fbd1a2a6-efe4-4d4c-874a-87753563534d, details=No relevant documents found above similarity threshold (0.3)
2025-07-22 01:38:16 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:38:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=fbd1a2a6-efe4-4d4c-874a-87753563534d, details=Sending request to LLM API. Enhanced prompt length: 43 chars
2025-07-22 01:38:16 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:38:16 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:38:18 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f94cf724a331614c, severity_level=INFO, request_id=fbd1a2a6-efe4-4d4c-874a-87753563534d, details=Chat completed successfully. Processing time: 2.06s, Response length: 121 chars, Tokens used: 97, RAG documents: 0
2025-07-22 01:38:18 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 2.06 seconds
2025-07-22 01:38:41 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 01:38:41 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 01:38:41 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 01:38:41 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 01:38:41 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 01:38:41 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 01:38:45 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 01:38:45 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 01:38:45 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 01:38:59 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=2510e3b7-7654-4362-a3fb-cf76d57d648b, details=Chat request initiated. Message length: 30 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:38:59 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What information is available?...
2025-07-22 01:38:59 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=2510e3b7-7654-4362-a3fb-cf76d57d648b, details=Starting RAG document search for query hash: 1d58e4344e6c91a1
2025-07-22 01:38:59 | INFO     | backend.routes.chat:chat_completion:139 - RAG Debug - Found 5 raw results
2025-07-22 01:38:59 | INFO     | backend.routes.chat:chat_completion:141 - RAG Debug - Result 1: similarity=-0.7936, content=means that running nontrivial code from a DLL entr...
2025-07-22 01:38:59 | INFO     | backend.routes.chat:chat_completion:141 - RAG Debug - Result 2: similarity=-0.8079, content=. . . . . . . . . . . . . . . . . . . . . . . . . ...
2025-07-22 01:38:59 | INFO     | backend.routes.chat:chat_completion:141 - RAG Debug - Result 3: similarity=-0.8285, content=score of the new child, the exist- ing node is upd...
2025-07-22 01:38:59 | INFO     | backend.routes.chat:chat_completion:148 - RAG Debug - After filtering: 0 results above 0.1 threshold
2025-07-22 01:38:59 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=2510e3b7-7654-4362-a3fb-cf76d57d648b, details=No relevant documents found above similarity threshold (0.1)
2025-07-22 01:38:59 | INFO     | backend.routes.chat:chat_completion:186 - No relevant documents found in RAG search
2025-07-22 01:38:59 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=2510e3b7-7654-4362-a3fb-cf76d57d648b, details=Sending request to LLM API. Enhanced prompt length: 30 chars
2025-07-22 01:38:59 | INFO     | backend.routes.chat:chat_completion:213 - Sending request to remote LLM API
2025-07-22 01:38:59 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:39:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=2510e3b7-7654-4362-a3fb-cf76d57d648b, details=Chat completed successfully. Processing time: 6.53s, Response length: 514 chars, Tokens used: 163, RAG documents: 0
2025-07-22 01:39:05 | INFO     | backend.routes.chat:chat_completion:241 - Request processed in 6.53 seconds
2025-07-22 01:39:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f94cf724a331614c, severity_level=INFO, request_id=e53adebb-3606-4a28-a075-7be4b5bc0164, details=Chat request initiated. Message length: 43 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:39:07 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What does Final_Exam_-_EPM213s.pdf contain?...
2025-07-22 01:39:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=e53adebb-3606-4a28-a075-7be4b5bc0164, details=Starting RAG document search for query hash: f94cf724a331614c
2025-07-22 01:39:07 | INFO     | backend.routes.chat:chat_completion:139 - RAG Debug - Found 1 raw results
2025-07-22 01:39:07 | INFO     | backend.routes.chat:chat_completion:141 - RAG Debug - Result 1: similarity=-0.9997, content=EPM213s Spring 2025 Ain-Shams University Faculty o...
2025-07-22 01:39:07 | INFO     | backend.routes.chat:chat_completion:148 - RAG Debug - After filtering: 0 results above 0.1 threshold
2025-07-22 01:39:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=e53adebb-3606-4a28-a075-7be4b5bc0164, details=No relevant documents found above similarity threshold (0.1)
2025-07-22 01:39:07 | INFO     | backend.routes.chat:chat_completion:186 - No relevant documents found in RAG search
2025-07-22 01:39:07 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=e53adebb-3606-4a28-a075-7be4b5bc0164, details=Sending request to LLM API. Enhanced prompt length: 43 chars
2025-07-22 01:39:07 | INFO     | backend.routes.chat:chat_completion:213 - Sending request to remote LLM API
2025-07-22 01:39:07 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:39:09 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f94cf724a331614c, severity_level=INFO, request_id=e53adebb-3606-4a28-a075-7be4b5bc0164, details=Chat completed successfully. Processing time: 2.09s, Response length: 130 chars, Tokens used: 98, RAG documents: 0
2025-07-22 01:39:09 | INFO     | backend.routes.chat:chat_completion:241 - Request processed in 2.09 seconds
2025-07-22 01:39:38 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 01:39:38 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 01:39:38 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 01:39:38 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 01:39:38 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 01:39:38 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 01:39:41 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 01:39:41 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 01:39:41 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 01:39:48 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=a1163484-ce1f-4c97-a2b5-48f44c40c193, details=Chat request initiated. Message length: 30 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:39:48 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What information is available?...
2025-07-22 01:39:48 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=a1163484-ce1f-4c97-a2b5-48f44c40c193, details=Starting RAG document search for query hash: 1d58e4344e6c91a1
2025-07-22 01:39:48 | INFO     | backend.routes.chat:chat_completion:139 - RAG Debug - Found 5 raw results
2025-07-22 01:39:48 | INFO     | backend.routes.chat:chat_completion:141 - RAG Debug - Result 1: similarity=0.1032, content=means that running nontrivial code from a DLL entr...
2025-07-22 01:39:48 | INFO     | backend.routes.chat:chat_completion:141 - RAG Debug - Result 2: similarity=0.0998, content=on page 21, I showed a few Cheat Engine Lua script...
2025-07-22 01:39:48 | INFO     | backend.routes.chat:chat_completion:141 - RAG Debug - Result 3: similarity=0.0961, content=. . . . . . . . . . . . . . . . . . . . . . . . . ...
2025-07-22 01:39:48 | INFO     | backend.routes.chat:chat_completion:148 - RAG Debug - After filtering: 1 results above 0.1 threshold
2025-07-22 01:39:48 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=a1163484-ce1f-4c97-a2b5-48f44c40c193, details=Found 1 relevant documents. Sources: Developing_Autonomous_Bots_for_Online_Games.pdf
2025-07-22 01:39:48 | INFO     | backend.routes.chat:chat_completion:172 - Found 1 relevant documents
2025-07-22 01:39:48 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=6feec78a7770122e, severity_level=INFO, request_id=a1163484-ce1f-4c97-a2b5-48f44c40c193, details=Sending request to LLM API. Enhanced prompt length: 5986 chars
2025-07-22 01:39:48 | INFO     | backend.routes.chat:chat_completion:213 - Sending request to remote LLM API
2025-07-22 01:39:48 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:40:02 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=1d58e4344e6c91a1, severity_level=INFO, request_id=a1163484-ce1f-4c97-a2b5-48f44c40c193, details=Chat completed successfully. Processing time: 14.03s, Response length: 533 chars, Tokens used: 1489, RAG documents: 1
2025-07-22 01:40:02 | INFO     | backend.routes.chat:chat_completion:241 - Request processed in 14.03 seconds
2025-07-22 01:40:04 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f94cf724a331614c, severity_level=INFO, request_id=44514c78-8a52-4de2-b8f9-c77cd990d108, details=Chat request initiated. Message length: 43 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:40:04 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What does Final_Exam_-_EPM213s.pdf contain?...
2025-07-22 01:40:04 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=44514c78-8a52-4de2-b8f9-c77cd990d108, details=Starting RAG document search for query hash: f94cf724a331614c
2025-07-22 01:40:04 | INFO     | backend.routes.chat:chat_completion:139 - RAG Debug - Found 1 raw results
2025-07-22 01:40:04 | INFO     | backend.routes.chat:chat_completion:141 - RAG Debug - Result 1: similarity=0.0001, content=EPM213s Spring 2025 Ain-Shams University Faculty o...
2025-07-22 01:40:04 | INFO     | backend.routes.chat:chat_completion:148 - RAG Debug - After filtering: 0 results above 0.1 threshold
2025-07-22 01:40:04 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=44514c78-8a52-4de2-b8f9-c77cd990d108, details=No relevant documents found above similarity threshold (0.1)
2025-07-22 01:40:04 | INFO     | backend.routes.chat:chat_completion:186 - No relevant documents found in RAG search
2025-07-22 01:40:04 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f94cf724a331614c, severity_level=INFO, request_id=44514c78-8a52-4de2-b8f9-c77cd990d108, details=Sending request to LLM API. Enhanced prompt length: 43 chars
2025-07-22 01:40:04 | INFO     | backend.routes.chat:chat_completion:213 - Sending request to remote LLM API
2025-07-22 01:40:04 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:40:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f94cf724a331614c, severity_level=INFO, request_id=44514c78-8a52-4de2-b8f9-c77cd990d108, details=Chat completed successfully. Processing time: 2.04s, Response length: 121 chars, Tokens used: 97, RAG documents: 0
2025-07-22 01:40:06 | INFO     | backend.routes.chat:chat_completion:241 - Request processed in 2.04 seconds
2025-07-22 01:41:10 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 01:41:10 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 01:41:10 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 01:41:10 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 01:41:10 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 01:41:10 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 01:41:13 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 01:41:13 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 01:41:13 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 01:41:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=adb02e4d-0154-42d1-b3ba-c05eacba1fca, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 100, temperature: 0.1
2025-07-22 01:41:20 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What does Case.txt say?...
2025-07-22 01:41:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=adb02e4d-0154-42d1-b3ba-c05eacba1fca, details=Starting RAG document search for query hash: cec53d859d356f1e
2025-07-22 01:41:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=adb02e4d-0154-42d1-b3ba-c05eacba1fca, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 01:41:20 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:41:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=adb02e4d-0154-42d1-b3ba-c05eacba1fca, details=Sending request to LLM API. Enhanced prompt length: 23 chars
2025-07-22 01:41:20 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:41:20 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:41:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=cec53d859d356f1e, severity_level=INFO, request_id=adb02e4d-0154-42d1-b3ba-c05eacba1fca, details=Chat completed successfully. Processing time: 3.11s, Response length: 190 chars, Tokens used: 107, RAG documents: 0
2025-07-22 01:41:23 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 3.11 seconds
2025-07-22 01:42:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=39afd4d24f23e356, severity_level=INFO, request_id=e240519b-390d-41d1-aaea-3cbd2eb6ac58, details=Chat request initiated. Message length: 33 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:42:45 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Can you read the case I gave you?...
2025-07-22 01:42:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=39afd4d24f23e356, severity_level=INFO, request_id=e240519b-390d-41d1-aaea-3cbd2eb6ac58, details=Starting RAG document search for query hash: 39afd4d24f23e356
2025-07-22 01:42:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=39afd4d24f23e356, severity_level=INFO, request_id=e240519b-390d-41d1-aaea-3cbd2eb6ac58, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 01:42:45 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:42:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=39afd4d24f23e356, severity_level=INFO, request_id=e240519b-390d-41d1-aaea-3cbd2eb6ac58, details=Sending request to LLM API. Enhanced prompt length: 33 chars
2025-07-22 01:42:45 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:42:45 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:42:49 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=39afd4d24f23e356, severity_level=INFO, request_id=e240519b-390d-41d1-aaea-3cbd2eb6ac58, details=Chat completed successfully. Processing time: 4.11s, Response length: 273 chars, Tokens used: 129, RAG documents: 0
2025-07-22 01:42:49 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 4.11 seconds
2025-07-22 01:43:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=1ecd1b48-817c-424f-8fef-3bcba478aa0f, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 3981, temperature: 1.0
2025-07-22 01:43:15 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was johnson hired?...
2025-07-22 01:43:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=1ecd1b48-817c-424f-8fef-3bcba478aa0f, details=Starting RAG document search for query hash: 4c6291a8ebc537b0
2025-07-22 01:43:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=1ecd1b48-817c-424f-8fef-3bcba478aa0f, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 01:43:15 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 01:43:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=8558999e9b699118, severity_level=INFO, request_id=1ecd1b48-817c-424f-8fef-3bcba478aa0f, details=Sending request to LLM API. Enhanced prompt length: 2013 chars
2025-07-22 01:43:15 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:43:15 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:43:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=1ecd1b48-817c-424f-8fef-3bcba478aa0f, details=Chat completed successfully. Processing time: 6.84s, Response length: 363 chars, Tokens used: 549, RAG documents: 1
2025-07-22 01:43:22 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 6.84 seconds
2025-07-22 01:43:51 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=b80c47a26ad11f4c, severity_level=INFO, request_id=2b32679d-576e-4835-9410-84453ac80aba, details=Chat request initiated. Message length: 18 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 3981, temperature: 1.0
2025-07-22 01:43:51 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Summerize the case...
2025-07-22 01:43:51 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=b80c47a26ad11f4c, severity_level=INFO, request_id=2b32679d-576e-4835-9410-84453ac80aba, details=Starting RAG document search for query hash: b80c47a26ad11f4c
2025-07-22 01:43:51 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=b80c47a26ad11f4c, severity_level=INFO, request_id=2b32679d-576e-4835-9410-84453ac80aba, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 01:43:51 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 01:43:51 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=6e2df26839b5d56c, severity_level=INFO, request_id=2b32679d-576e-4835-9410-84453ac80aba, details=Sending request to LLM API. Enhanced prompt length: 2008 chars
2025-07-22 01:43:51 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:43:51 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:44:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=b80c47a26ad11f4c, severity_level=INFO, request_id=2b32679d-576e-4835-9410-84453ac80aba, details=Chat completed successfully. Processing time: 19.45s, Response length: 1546 chars, Tokens used: 782, RAG documents: 1
2025-07-22 01:44:10 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 19.45 seconds
2025-07-22 01:48:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=532eaabd9574880d, severity_level=INFO, request_id=c2145e9d-e2a8-4b92-a147-73c7afe2eaaa, details=Chat request initiated. Message length: 4 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 3981, temperature: 1.0
2025-07-22 01:48:22 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Test...
2025-07-22 01:48:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=532eaabd9574880d, severity_level=INFO, request_id=c2145e9d-e2a8-4b92-a147-73c7afe2eaaa, details=Starting RAG document search for query hash: 532eaabd9574880d
2025-07-22 01:48:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=532eaabd9574880d, severity_level=INFO, request_id=c2145e9d-e2a8-4b92-a147-73c7afe2eaaa, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 01:48:22 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:48:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=532eaabd9574880d, severity_level=INFO, request_id=c2145e9d-e2a8-4b92-a147-73c7afe2eaaa, details=Sending request to LLM API. Enhanced prompt length: 4 chars
2025-07-22 01:48:22 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:48:22 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:48:24 | ERROR    | backend.services.llm_client:chat_completion:114 - Unexpected error calling LLM API: All connection attempts failed
2025-07-22 01:48:24 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_SYSTEM_ERROR, status=error, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=532eaabd9574880d, severity_level=ERROR, request_id=c2145e9d-e2a8-4b92-a147-73c7afe2eaaa, details=System error after 2.27s: Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 01:48:24 | ERROR    | backend.routes.chat:chat_completion:303 - Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 01:52:42 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 01:52:42 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 01:52:42 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 01:52:42 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 01:52:42 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 01:52:42 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 01:52:45 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 01:52:45 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 01:52:45 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 01:54:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=acf902a9-1bb5-4fea-9a56-d72f100dea52, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:54:15 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was johnson hired?...
2025-07-22 01:54:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=acf902a9-1bb5-4fea-9a56-d72f100dea52, details=Starting RAG document search for query hash: 4c6291a8ebc537b0
2025-07-22 01:54:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=acf902a9-1bb5-4fea-9a56-d72f100dea52, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 01:54:15 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 01:54:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=8558999e9b699118, severity_level=INFO, request_id=acf902a9-1bb5-4fea-9a56-d72f100dea52, details=Sending request to LLM API. Enhanced prompt length: 2013 chars
2025-07-22 01:54:15 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:54:15 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:54:18 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=acf902a9-1bb5-4fea-9a56-d72f100dea52, details=Chat completed successfully. Processing time: 2.77s, Response length: 123 chars, Tokens used: 505, RAG documents: 1
2025-07-22 01:54:18 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 2.77 seconds
2025-07-22 01:55:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=3c08b910-3a61-4153-a080-f6ac3a7c2c13, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:55:00 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was johnson hired?...
2025-07-22 01:55:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=3c08b910-3a61-4153-a080-f6ac3a7c2c13, details=Starting RAG document search for query hash: 4c6291a8ebc537b0
2025-07-22 01:55:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=3c08b910-3a61-4153-a080-f6ac3a7c2c13, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 01:55:00 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 01:55:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=8558999e9b699118, severity_level=INFO, request_id=3c08b910-3a61-4153-a080-f6ac3a7c2c13, details=Sending request to LLM API. Enhanced prompt length: 2013 chars
2025-07-22 01:55:00 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:55:00 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:55:02 | ERROR    | backend.services.llm_client:chat_completion:114 - Unexpected error calling LLM API: All connection attempts failed
2025-07-22 01:55:02 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_SYSTEM_ERROR, status=error, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=ERROR, request_id=3c08b910-3a61-4153-a080-f6ac3a7c2c13, details=System error after 2.27s: Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 01:55:02 | ERROR    | backend.routes.chat:chat_completion:303 - Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 01:56:53 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=81607cffbcc57cfc, severity_level=INFO, request_id=73f4e9e5-6f8a-4c88-858c-6238fde0dcca, details=Chat request initiated. Message length: 2 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 01:56:53 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: أه...
2025-07-22 01:56:53 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=81607cffbcc57cfc, severity_level=INFO, request_id=73f4e9e5-6f8a-4c88-858c-6238fde0dcca, details=Starting RAG document search for query hash: 81607cffbcc57cfc
2025-07-22 01:56:53 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=81607cffbcc57cfc, severity_level=INFO, request_id=73f4e9e5-6f8a-4c88-858c-6238fde0dcca, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 01:56:53 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 01:56:53 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=81607cffbcc57cfc, severity_level=INFO, request_id=73f4e9e5-6f8a-4c88-858c-6238fde0dcca, details=Sending request to LLM API. Enhanced prompt length: 2 chars
2025-07-22 01:56:53 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 01:56:53 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 01:56:55 | ERROR    | backend.services.llm_client:chat_completion:114 - Unexpected error calling LLM API: All connection attempts failed
2025-07-22 01:56:55 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_SYSTEM_ERROR, status=error, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=81607cffbcc57cfc, severity_level=ERROR, request_id=73f4e9e5-6f8a-4c88-858c-6238fde0dcca, details=System error after 2.27s: Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 01:56:55 | ERROR    | backend.routes.chat:chat_completion:303 - Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 02:01:32 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=3639efcd08abb273, severity_level=INFO, request_id=77086b2b-7c3f-4bfe-933c-9bd24d9f0539, details=Chat request initiated. Message length: 2 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 02:01:32 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hi...
2025-07-22 02:01:32 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=77086b2b-7c3f-4bfe-933c-9bd24d9f0539, details=Starting RAG document search for query hash: 3639efcd08abb273
2025-07-22 02:01:32 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=77086b2b-7c3f-4bfe-933c-9bd24d9f0539, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 02:01:32 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 02:01:32 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=77086b2b-7c3f-4bfe-933c-9bd24d9f0539, details=Sending request to LLM API. Enhanced prompt length: 2 chars
2025-07-22 02:01:32 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 02:01:32 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 02:01:34 | ERROR    | backend.services.llm_client:chat_completion:114 - Unexpected error calling LLM API: All connection attempts failed
2025-07-22 02:01:34 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_SYSTEM_ERROR, status=error, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=3639efcd08abb273, severity_level=ERROR, request_id=77086b2b-7c3f-4bfe-933c-9bd24d9f0539, details=System error after 2.28s: Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 02:01:34 | ERROR    | backend.routes.chat:chat_completion:303 - Unexpected error in chat completion: Failed to call LLM API: All connection attempts failed
2025-07-22 02:01:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=3639efcd08abb273, severity_level=INFO, request_id=56ff136e-2882-4c96-8fff-29eadb7fc793, details=Chat request initiated. Message length: 2 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 02:01:43 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hi...
2025-07-22 02:01:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=56ff136e-2882-4c96-8fff-29eadb7fc793, details=Starting RAG document search for query hash: 3639efcd08abb273
2025-07-22 02:01:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=56ff136e-2882-4c96-8fff-29eadb7fc793, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 02:01:43 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 02:01:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=56ff136e-2882-4c96-8fff-29eadb7fc793, details=Sending request to LLM API. Enhanced prompt length: 2 chars
2025-07-22 02:01:43 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 02:01:43 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 02:01:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=3639efcd08abb273, severity_level=INFO, request_id=56ff136e-2882-4c96-8fff-29eadb7fc793, details=Chat completed successfully. Processing time: 2.09s, Response length: 103 chars, Tokens used: 81, RAG documents: 0
2025-07-22 02:01:45 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 2.09 seconds
2025-07-22 02:02:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=3639efcd08abb273, severity_level=INFO, request_id=d707399f-715b-459d-b296-9078f16ba2b4, details=Chat request initiated. Message length: 2 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 02:02:39 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hi...
2025-07-22 02:02:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=d707399f-715b-459d-b296-9078f16ba2b4, details=Starting RAG document search for query hash: 3639efcd08abb273
2025-07-22 02:02:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=d707399f-715b-459d-b296-9078f16ba2b4, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 02:02:39 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 02:02:40 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=3639efcd08abb273, severity_level=INFO, request_id=d707399f-715b-459d-b296-9078f16ba2b4, details=Sending request to LLM API. Enhanced prompt length: 2 chars
2025-07-22 02:02:40 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 02:02:40 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 02:02:42 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=3639efcd08abb273, severity_level=INFO, request_id=d707399f-715b-459d-b296-9078f16ba2b4, details=Chat completed successfully. Processing time: 2.46s, Response length: 161 chars, Tokens used: 95, RAG documents: 0
2025-07-22 02:02:42 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 2.46 seconds
2025-07-22 02:05:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=2269e576-cfbf-440d-aaf2-4ad39a88e761, details=Chat request initiated. Message length: 3 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 02:05:25 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hey...
2025-07-22 02:05:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=2269e576-cfbf-440d-aaf2-4ad39a88e761, details=Starting RAG document search for query hash: 581d43745726e0ee
2025-07-22 02:05:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=2269e576-cfbf-440d-aaf2-4ad39a88e761, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 02:05:25 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 02:05:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=2269e576-cfbf-440d-aaf2-4ad39a88e761, details=Sending request to LLM API. Enhanced prompt length: 3 chars
2025-07-22 02:05:25 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 02:05:25 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 02:05:27 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=2269e576-cfbf-440d-aaf2-4ad39a88e761, details=Chat completed successfully. Processing time: 2.18s, Response length: 138 chars, Tokens used: 88, RAG documents: 0
2025-07-22 02:05:27 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 2.18 seconds
2025-07-22 02:06:31 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 02:06:31 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 02:06:31 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 02:06:31 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 02:06:31 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 02:06:31 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 02:06:34 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 02:06:34 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 02:06:34 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 02:06:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=3bf97543-6466-485d-84b4-fc49b0b51701, details=Chat request initiated. Message length: 3 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 02:06:52 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hey...
2025-07-22 02:06:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=3bf97543-6466-485d-84b4-fc49b0b51701, details=Starting RAG document search for query hash: 581d43745726e0ee
2025-07-22 02:06:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=3bf97543-6466-485d-84b4-fc49b0b51701, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 02:06:52 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 02:06:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=581d43745726e0ee, severity_level=INFO, request_id=3bf97543-6466-485d-84b4-fc49b0b51701, details=Sending request to LLM API. Enhanced prompt length: 3 chars
2025-07-22 02:06:52 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 02:06:52 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 02:06:54 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=581d43745726e0ee, severity_level=INFO, request_id=3bf97543-6466-485d-84b4-fc49b0b51701, details=Chat completed successfully. Processing time: 2.24s, Response length: 137 chars, Tokens used: 90, RAG documents: 0
2025-07-22 02:06:54 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 2.24 seconds
2025-07-22 02:07:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=53b3310c67e626d1, severity_level=INFO, request_id=ecdeac00-591c-4960-948a-a13efdeb29a8, details=Chat request initiated. Message length: 19 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 02:07:26 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Summerize this case...
2025-07-22 02:07:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=53b3310c67e626d1, severity_level=INFO, request_id=ecdeac00-591c-4960-948a-a13efdeb29a8, details=Starting RAG document search for query hash: 53b3310c67e626d1
2025-07-22 02:07:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=53b3310c67e626d1, severity_level=INFO, request_id=ecdeac00-591c-4960-948a-a13efdeb29a8, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 02:07:26 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 02:07:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=de9a88be609a19a3, severity_level=INFO, request_id=ecdeac00-591c-4960-948a-a13efdeb29a8, details=Sending request to LLM API. Enhanced prompt length: 2009 chars
2025-07-22 02:07:26 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 02:07:26 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 02:08:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=53b3310c67e626d1, severity_level=INFO, request_id=ecdeac00-591c-4960-948a-a13efdeb29a8, details=Chat completed successfully. Processing time: 34.20s, Response length: 2634 chars, Tokens used: 989, RAG documents: 1
2025-07-22 02:08:01 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 34.20 seconds
2025-07-22 18:45:51 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 18:45:51 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 18:45:51 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 18:45:51 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 18:45:51 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 18:45:51 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 18:45:58 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 18:45:58 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 18:45:58 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 18:46:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=185f8db32271fe25, severity_level=INFO, request_id=9e62ffe1-7601-4cf6-9afd-2ce6b5d3e18a, details=Chat request initiated. Message length: 5 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 18:46:43 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hello...
2025-07-22 18:46:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=185f8db32271fe25, severity_level=INFO, request_id=9e62ffe1-7601-4cf6-9afd-2ce6b5d3e18a, details=Starting RAG document search for query hash: 185f8db32271fe25
2025-07-22 18:46:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=185f8db32271fe25, severity_level=INFO, request_id=9e62ffe1-7601-4cf6-9afd-2ce6b5d3e18a, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 18:46:43 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 18:46:43 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=185f8db32271fe25, severity_level=INFO, request_id=9e62ffe1-7601-4cf6-9afd-2ce6b5d3e18a, details=Sending request to LLM API. Enhanced prompt length: 5 chars
2025-07-22 18:46:43 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 18:46:43 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 18:46:54 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=185f8db32271fe25, severity_level=INFO, request_id=9e62ffe1-7601-4cf6-9afd-2ce6b5d3e18a, details=Chat completed successfully. Processing time: 11.06s, Response length: 97 chars, Tokens used: 82, RAG documents: 0
2025-07-22 18:46:54 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 11.06 seconds
2025-07-22 18:49:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=98a1a2be-9a82-43d3-8343-d1d4029655fd, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 18:49:10 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I solve this case?...
2025-07-22 18:49:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=98a1a2be-9a82-43d3-8343-d1d4029655fd, details=Starting RAG document search for query hash: e6408758942bc9b0
2025-07-22 18:49:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=98a1a2be-9a82-43d3-8343-d1d4029655fd, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 18:49:10 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 18:49:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=98a1a2be-9a82-43d3-8343-d1d4029655fd, details=Sending request to LLM API. Enhanced prompt length: 26 chars
2025-07-22 18:49:10 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 18:49:10 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 18:49:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=98a1a2be-9a82-43d3-8343-d1d4029655fd, details=Chat completed successfully. Processing time: 12.15s, Response length: 937 chars, Tokens used: 261, RAG documents: 0
2025-07-22 18:49:22 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 12.15 seconds
2025-07-22 18:50:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=e23c24fc-b141-427a-95af-242f194fa360, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 18:50:23 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was johnson hired?...
2025-07-22 18:50:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=e23c24fc-b141-427a-95af-242f194fa360, details=Starting RAG document search for query hash: 4c6291a8ebc537b0
2025-07-22 18:50:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=e23c24fc-b141-427a-95af-242f194fa360, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 18:50:23 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 18:50:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=8558999e9b699118, severity_level=INFO, request_id=e23c24fc-b141-427a-95af-242f194fa360, details=Sending request to LLM API. Enhanced prompt length: 2013 chars
2025-07-22 18:50:23 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 18:50:23 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 18:50:31 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=e23c24fc-b141-427a-95af-242f194fa360, details=Chat completed successfully. Processing time: 8.81s, Response length: 518 chars, Tokens used: 583, RAG documents: 1
2025-07-22 18:50:31 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 8.81 seconds
2025-07-22 18:51:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=8060ce8c-a51d-408a-8aeb-f6c23996e1fb, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 18:51:10 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was johnson hired?...
2025-07-22 18:51:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=8060ce8c-a51d-408a-8aeb-f6c23996e1fb, details=Starting RAG document search for query hash: 4c6291a8ebc537b0
2025-07-22 18:51:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=8060ce8c-a51d-408a-8aeb-f6c23996e1fb, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 18:51:10 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 18:51:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=8558999e9b699118, severity_level=INFO, request_id=8060ce8c-a51d-408a-8aeb-f6c23996e1fb, details=Sending request to LLM API. Enhanced prompt length: 2013 chars
2025-07-22 18:51:10 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 18:51:10 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 18:51:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=8060ce8c-a51d-408a-8aeb-f6c23996e1fb, details=Chat completed successfully. Processing time: 5.38s, Response length: 336 chars, Tokens used: 556, RAG documents: 1
2025-07-22 18:51:15 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 5.38 seconds
2025-07-22 18:52:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=6b9e7a1c-9280-45aa-9c75-93b294e0893b, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 18:52:45 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was johnson hired?...
2025-07-22 18:52:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=6b9e7a1c-9280-45aa-9c75-93b294e0893b, details=Starting RAG document search for query hash: 4c6291a8ebc537b0
2025-07-22 18:52:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=6b9e7a1c-9280-45aa-9c75-93b294e0893b, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 18:52:45 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 18:52:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=8558999e9b699118, severity_level=INFO, request_id=6b9e7a1c-9280-45aa-9c75-93b294e0893b, details=Sending request to LLM API. Enhanced prompt length: 2013 chars
2025-07-22 18:52:45 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 18:52:45 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 18:52:53 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=6b9e7a1c-9280-45aa-9c75-93b294e0893b, details=Chat completed successfully. Processing time: 8.16s, Response length: 574 chars, Tokens used: 602, RAG documents: 1
2025-07-22 18:52:53 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 8.16 seconds
2025-07-22 18:53:13 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=ee89e9c7-4342-4a1c-9deb-0a95ba8ea059, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 18:53:13 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I solve this case?...
2025-07-22 18:53:13 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=ee89e9c7-4342-4a1c-9deb-0a95ba8ea059, details=Starting RAG document search for query hash: e6408758942bc9b0
2025-07-22 18:53:13 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=ee89e9c7-4342-4a1c-9deb-0a95ba8ea059, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 18:53:13 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 18:53:13 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=ee89e9c7-4342-4a1c-9deb-0a95ba8ea059, details=Sending request to LLM API. Enhanced prompt length: 26 chars
2025-07-22 18:53:13 | INFO     | backend.routes.chat:chat_completion:206 - Sending request to remote LLM API
2025-07-22 18:53:13 | INFO     | backend.services.llm_client:chat_completion:81 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 18:53:21 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=ee89e9c7-4342-4a1c-9deb-0a95ba8ea059, details=Chat completed successfully. Processing time: 7.57s, Response length: 554 chars, Tokens used: 184, RAG documents: 0
2025-07-22 18:53:21 | INFO     | backend.routes.chat:chat_completion:234 - Request processed in 7.57 seconds
2025-07-22 19:04:39 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 19:04:39 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 19:04:39 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 19:04:39 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 19:04:39 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 19:04:39 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 19:04:42 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 19:04:42 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 19:04:42 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 19:05:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=5937f09b-ae76-4f02-96e7-ac573af9a670, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:05:16 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I solve this case?...
2025-07-22 19:05:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=5937f09b-ae76-4f02-96e7-ac573af9a670, details=Starting RAG document search for query hash: e6408758942bc9b0
2025-07-22 19:05:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=5937f09b-ae76-4f02-96e7-ac573af9a670, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:05:16 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:05:16 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=5937f09b-ae76-4f02-96e7-ac573af9a670, details=Sending request to LLM API. Conversation length: 6 messages, Current message length: 26 chars
2025-07-22 19:05:16 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:05:16 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:05:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=5937f09b-ae76-4f02-96e7-ac573af9a670, details=Chat completed successfully. Processing time: 19.41s, Response length: 1282 chars, Tokens used: 608, RAG documents: 0
2025-07-22 19:05:35 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 19.41 seconds
2025-07-22 19:05:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=c1bb9373-273b-4431-93e7-66cd9cf0a7dc, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:05:39 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I solve this case?...
2025-07-22 19:05:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=c1bb9373-273b-4431-93e7-66cd9cf0a7dc, details=Starting RAG document search for query hash: e6408758942bc9b0
2025-07-22 19:05:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=c1bb9373-273b-4431-93e7-66cd9cf0a7dc, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:05:39 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:05:39 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=c1bb9373-273b-4431-93e7-66cd9cf0a7dc, details=Sending request to LLM API. Conversation length: 2 messages, Current message length: 26 chars
2025-07-22 19:05:39 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:05:39 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:05:46 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=c1bb9373-273b-4431-93e7-66cd9cf0a7dc, details=Chat completed successfully. Processing time: 6.76s, Response length: 485 chars, Tokens used: 179, RAG documents: 0
2025-07-22 19:05:46 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 6.76 seconds
2025-07-22 19:06:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=af868a52-7241-4837-80fe-38fd2d67542c, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:06:00 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was johnson hired?...
2025-07-22 19:06:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=af868a52-7241-4837-80fe-38fd2d67542c, details=Starting RAG document search for query hash: 4c6291a8ebc537b0
2025-07-22 19:06:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=af868a52-7241-4837-80fe-38fd2d67542c, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 19:06:00 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 19:06:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=8558999e9b699118, severity_level=INFO, request_id=af868a52-7241-4837-80fe-38fd2d67542c, details=Sending request to LLM API. Conversation length: 4 messages, Current message length: 2013 chars
2025-07-22 19:06:00 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:06:00 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:06:10 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4c6291a8ebc537b0, severity_level=INFO, request_id=af868a52-7241-4837-80fe-38fd2d67542c, details=Chat completed successfully. Processing time: 9.11s, Response length: 350 chars, Tokens used: 685, RAG documents: 1
2025-07-22 19:06:10 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 9.11 seconds
2025-07-22 19:06:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=b1388b9044b7b9e1, severity_level=INFO, request_id=d34c9715-5534-46cb-80be-5f50fc01485a, details=Chat request initiated. Message length: 25 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:06:26 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I solve the case?...
2025-07-22 19:06:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=b1388b9044b7b9e1, severity_level=INFO, request_id=d34c9715-5534-46cb-80be-5f50fc01485a, details=Starting RAG document search for query hash: b1388b9044b7b9e1
2025-07-22 19:06:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=b1388b9044b7b9e1, severity_level=INFO, request_id=d34c9715-5534-46cb-80be-5f50fc01485a, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 19:06:26 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 19:06:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=0804b5eef8e99083, severity_level=INFO, request_id=d34c9715-5534-46cb-80be-5f50fc01485a, details=Sending request to LLM API. Conversation length: 6 messages, Current message length: 2015 chars
2025-07-22 19:06:26 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:06:26 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:07:05 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=b1388b9044b7b9e1, severity_level=INFO, request_id=d34c9715-5534-46cb-80be-5f50fc01485a, details=Chat completed successfully. Processing time: 39.23s, Response length: 3077 chars, Tokens used: 1286, RAG documents: 1
2025-07-22 19:07:05 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 39.23 seconds
2025-07-22 19:07:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=8deef9f89ff1b0d7, severity_level=INFO, request_id=4c7a23df-9b85-433b-811f-3315917bffde, details=Chat request initiated. Message length: 34 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:07:12 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What company was johnson hired at?...
2025-07-22 19:07:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=8deef9f89ff1b0d7, severity_level=INFO, request_id=4c7a23df-9b85-433b-811f-3315917bffde, details=Starting RAG document search for query hash: 8deef9f89ff1b0d7
2025-07-22 19:07:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=8deef9f89ff1b0d7, severity_level=INFO, request_id=4c7a23df-9b85-433b-811f-3315917bffde, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 19:07:12 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 19:07:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=7a42c1cb4fbae644, severity_level=INFO, request_id=4c7a23df-9b85-433b-811f-3315917bffde, details=Sending request to LLM API. Conversation length: 7 messages, Current message length: 2024 chars
2025-07-22 19:07:12 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:07:12 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:07:19 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=8deef9f89ff1b0d7, severity_level=INFO, request_id=4c7a23df-9b85-433b-811f-3315917bffde, details=Chat completed successfully. Processing time: 7.07s, Response length: 319 chars, Tokens used: 784, RAG documents: 1
2025-07-22 19:07:19 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 7.07 seconds
2025-07-22 19:07:29 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4b2b195bc585c6b9, severity_level=INFO, request_id=1c43d0d4-ceff-492b-90d5-f41c04f3c3c6, details=Chat request initiated. Message length: 33 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:07:29 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What company was johnson hied at?...
2025-07-22 19:07:29 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4b2b195bc585c6b9, severity_level=INFO, request_id=1c43d0d4-ceff-492b-90d5-f41c04f3c3c6, details=Starting RAG document search for query hash: 4b2b195bc585c6b9
2025-07-22 19:07:29 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4b2b195bc585c6b9, severity_level=INFO, request_id=1c43d0d4-ceff-492b-90d5-f41c04f3c3c6, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:07:29 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:07:29 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=4b2b195bc585c6b9, severity_level=INFO, request_id=1c43d0d4-ceff-492b-90d5-f41c04f3c3c6, details=Sending request to LLM API. Conversation length: 8 messages, Current message length: 33 chars
2025-07-22 19:07:29 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:07:29 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:07:42 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=4b2b195bc585c6b9, severity_level=INFO, request_id=1c43d0d4-ceff-492b-90d5-f41c04f3c3c6, details=Chat completed successfully. Processing time: 13.26s, Response length: 959 chars, Tokens used: 523, RAG documents: 0
2025-07-22 19:07:42 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 13.26 seconds
2025-07-22 19:08:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=8deef9f89ff1b0d7, severity_level=INFO, request_id=ac68abe4-2b6f-459d-a6f2-1f1580a31563, details=Chat request initiated. Message length: 34 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:08:01 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What company was johnson hired at?...
2025-07-22 19:08:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=8deef9f89ff1b0d7, severity_level=INFO, request_id=ac68abe4-2b6f-459d-a6f2-1f1580a31563, details=Starting RAG document search for query hash: 8deef9f89ff1b0d7
2025-07-22 19:08:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=8deef9f89ff1b0d7, severity_level=INFO, request_id=ac68abe4-2b6f-459d-a6f2-1f1580a31563, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 19:08:01 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 19:08:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=7a42c1cb4fbae644, severity_level=INFO, request_id=ac68abe4-2b6f-459d-a6f2-1f1580a31563, details=Sending request to LLM API. Conversation length: 2 messages, Current message length: 2024 chars
2025-07-22 19:08:01 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:08:01 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:08:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=8deef9f89ff1b0d7, severity_level=INFO, request_id=ac68abe4-2b6f-459d-a6f2-1f1580a31563, details=Chat completed successfully. Processing time: 10.66s, Response length: 664 chars, Tokens used: 622, RAG documents: 1
2025-07-22 19:08:12 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 10.66 seconds
2025-07-22 19:08:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=9be3248e-90a8-45dd-b304-4511127e651e, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:08:25 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I solve this case?...
2025-07-22 19:08:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=9be3248e-90a8-45dd-b304-4511127e651e, details=Starting RAG document search for query hash: e6408758942bc9b0
2025-07-22 19:08:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=9be3248e-90a8-45dd-b304-4511127e651e, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:08:25 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:08:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=9be3248e-90a8-45dd-b304-4511127e651e, details=Sending request to LLM API. Conversation length: 4 messages, Current message length: 26 chars
2025-07-22 19:08:25 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:08:25 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:08:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=9be3248e-90a8-45dd-b304-4511127e651e, details=Chat completed successfully. Processing time: 20.18s, Response length: 1671 chars, Tokens used: 548, RAG documents: 0
2025-07-22 19:08:45 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 20.18 seconds
2025-07-22 19:09:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=32c54f81-90ba-4063-a00f-197993ccee00, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:09:23 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What is the name of the guy?...
2025-07-22 19:09:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=32c54f81-90ba-4063-a00f-197993ccee00, details=Starting RAG document search for query hash: f8526ea1cefa561f
2025-07-22 19:09:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=32c54f81-90ba-4063-a00f-197993ccee00, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:09:23 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:09:23 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=32c54f81-90ba-4063-a00f-197993ccee00, details=Sending request to LLM API. Conversation length: 6 messages, Current message length: 28 chars
2025-07-22 19:09:23 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:09:23 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:09:30 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=32c54f81-90ba-4063-a00f-197993ccee00, details=Chat completed successfully. Processing time: 6.48s, Response length: 410 chars, Tokens used: 647, RAG documents: 0
2025-07-22 19:09:30 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 6.48 seconds
2025-07-22 19:12:49 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 19:12:49 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 19:12:49 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 19:12:49 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 19:12:49 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 19:12:49 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 19:12:52 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 19:12:52 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 19:12:52 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 19:13:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=30176cd7ea858bde, severity_level=INFO, request_id=c30fd8fb-caac-4cf9-a39e-c93da296da27, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:13:22 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I Solve this case?...
2025-07-22 19:13:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=30176cd7ea858bde, severity_level=INFO, request_id=c30fd8fb-caac-4cf9-a39e-c93da296da27, details=Starting RAG document search for query hash: 30176cd7ea858bde
2025-07-22 19:13:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=30176cd7ea858bde, severity_level=INFO, request_id=c30fd8fb-caac-4cf9-a39e-c93da296da27, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:13:22 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:13:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=30176cd7ea858bde, severity_level=INFO, request_id=c30fd8fb-caac-4cf9-a39e-c93da296da27, details=Sending request to LLM API. Conversation length: 2 messages, Current message length: 26 chars
2025-07-22 19:13:22 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:13:22 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:13:33 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=30176cd7ea858bde, severity_level=INFO, request_id=c30fd8fb-caac-4cf9-a39e-c93da296da27, details=Chat completed successfully. Processing time: 11.60s, Response length: 898 chars, Tokens used: 260, RAG documents: 0
2025-07-22 19:13:33 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 11.60 seconds
2025-07-22 19:13:50 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=08b20d39-4951-42fb-8f49-7ca353a7d848, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:13:50 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What is the name of the guy?...
2025-07-22 19:13:50 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=08b20d39-4951-42fb-8f49-7ca353a7d848, details=Starting RAG document search for query hash: f8526ea1cefa561f
2025-07-22 19:13:50 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=08b20d39-4951-42fb-8f49-7ca353a7d848, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:13:50 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:13:50 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=08b20d39-4951-42fb-8f49-7ca353a7d848, details=Sending request to LLM API. Conversation length: 4 messages, Current message length: 28 chars
2025-07-22 19:13:50 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:13:50 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:13:57 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=08b20d39-4951-42fb-8f49-7ca353a7d848, details=Chat completed successfully. Processing time: 6.72s, Response length: 434 chars, Tokens used: 368, RAG documents: 0
2025-07-22 19:13:57 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 6.72 seconds
2025-07-22 19:14:18 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=7766b3fa-3ebe-4cfb-a9b9-29f7c53a3ac2, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:14:18 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What is the name of the guy?...
2025-07-22 19:14:18 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=7766b3fa-3ebe-4cfb-a9b9-29f7c53a3ac2, details=Starting RAG document search for query hash: f8526ea1cefa561f
2025-07-22 19:14:18 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=7766b3fa-3ebe-4cfb-a9b9-29f7c53a3ac2, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:14:18 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:14:19 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=7766b3fa-3ebe-4cfb-a9b9-29f7c53a3ac2, details=Sending request to LLM API. Conversation length: 6 messages, Current message length: 28 chars
2025-07-22 19:14:19 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:14:19 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:14:25 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=7766b3fa-3ebe-4cfb-a9b9-29f7c53a3ac2, details=Chat completed successfully. Processing time: 6.88s, Response length: 461 chars, Tokens used: 485, RAG documents: 0
2025-07-22 19:14:25 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 6.88 seconds
2025-07-22 19:14:36 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=6f80adb0-50c1-46ff-9941-70bce893e9c7, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:14:36 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I solve this case?...
2025-07-22 19:14:36 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=6f80adb0-50c1-46ff-9941-70bce893e9c7, details=Starting RAG document search for query hash: e6408758942bc9b0
2025-07-22 19:14:36 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=6f80adb0-50c1-46ff-9941-70bce893e9c7, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:14:36 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:14:36 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=6f80adb0-50c1-46ff-9941-70bce893e9c7, details=Sending request to LLM API. Conversation length: 2 messages, Current message length: 26 chars
2025-07-22 19:14:36 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:14:36 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:14:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=6f80adb0-50c1-46ff-9941-70bce893e9c7, details=Chat completed successfully. Processing time: 16.24s, Response length: 1375 chars, Tokens used: 339, RAG documents: 0
2025-07-22 19:14:52 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 16.24 seconds
2025-07-22 19:15:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=3f501e9b-e7e6-4d52-b0a4-81b8d1e341de, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:15:15 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What is the name of the guy?...
2025-07-22 19:15:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=3f501e9b-e7e6-4d52-b0a4-81b8d1e341de, details=Starting RAG document search for query hash: f8526ea1cefa561f
2025-07-22 19:15:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=3f501e9b-e7e6-4d52-b0a4-81b8d1e341de, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:15:15 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:15:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=3f501e9b-e7e6-4d52-b0a4-81b8d1e341de, details=Sending request to LLM API. Conversation length: 4 messages, Current message length: 28 chars
2025-07-22 19:15:15 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:15:15 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:15:21 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=3f501e9b-e7e6-4d52-b0a4-81b8d1e341de, details=Chat completed successfully. Processing time: 5.74s, Response length: 458 chars, Tokens used: 446, RAG documents: 0
2025-07-22 19:15:21 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 5.74 seconds
2025-07-22 19:15:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=e39d58c9-c5d7-4f95-82be-7a28bc22a94c, details=Chat request initiated. Message length: 27 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:15:35 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnson hired?...
2025-07-22 19:15:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=e39d58c9-c5d7-4f95-82be-7a28bc22a94c, details=Starting RAG document search for query hash: 242e5bde6bd2fe62
2025-07-22 19:15:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=e39d58c9-c5d7-4f95-82be-7a28bc22a94c, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:15:35 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:15:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=e39d58c9-c5d7-4f95-82be-7a28bc22a94c, details=Sending request to LLM API. Conversation length: 6 messages, Current message length: 27 chars
2025-07-22 19:15:35 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:15:35 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:15:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=e39d58c9-c5d7-4f95-82be-7a28bc22a94c, details=Chat completed successfully. Processing time: 9.86s, Response length: 721 chars, Tokens used: 611, RAG documents: 0
2025-07-22 19:15:45 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 9.86 seconds
2025-07-22 19:15:51 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=7ec9b787-d81d-4885-85b0-4b938a5bb26b, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:15:51 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnsono hired?...
2025-07-22 19:15:51 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=7ec9b787-d81d-4885-85b0-4b938a5bb26b, details=Starting RAG document search for query hash: e94ddcad3ad0b575
2025-07-22 19:15:51 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=7ec9b787-d81d-4885-85b0-4b938a5bb26b, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:15:51 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:15:51 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=7ec9b787-d81d-4885-85b0-4b938a5bb26b, details=Sending request to LLM API. Conversation length: 7 messages, Current message length: 28 chars
2025-07-22 19:15:51 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:15:51 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:16:02 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=7ec9b787-d81d-4885-85b0-4b938a5bb26b, details=Chat completed successfully. Processing time: 11.00s, Response length: 771 chars, Tokens used: 638, RAG documents: 0
2025-07-22 19:16:02 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 11.00 seconds
2025-07-22 19:16:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=50aae3ba-5d2f-43fa-9cbd-ddc9f5c8cf67, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:16:26 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnsono hired?...
2025-07-22 19:16:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=50aae3ba-5d2f-43fa-9cbd-ddc9f5c8cf67, details=Starting RAG document search for query hash: e94ddcad3ad0b575
2025-07-22 19:16:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=50aae3ba-5d2f-43fa-9cbd-ddc9f5c8cf67, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:16:26 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:16:26 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=50aae3ba-5d2f-43fa-9cbd-ddc9f5c8cf67, details=Sending request to LLM API. Conversation length: 9 messages, Current message length: 28 chars
2025-07-22 19:16:26 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:16:26 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:16:33 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e94ddcad3ad0b575, severity_level=INFO, request_id=50aae3ba-5d2f-43fa-9cbd-ddc9f5c8cf67, details=Chat completed successfully. Processing time: 7.55s, Response length: 467 chars, Tokens used: 751, RAG documents: 0
2025-07-22 19:16:33 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 7.55 seconds
2025-07-22 19:16:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=776402c6070f1ce2, severity_level=INFO, request_id=8035c0fa-c5f3-47e5-9dfb-1bf95b7076e4, details=Chat request initiated. Message length: 35 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:16:52 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Can you see the context I sent you?...
2025-07-22 19:16:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=776402c6070f1ce2, severity_level=INFO, request_id=8035c0fa-c5f3-47e5-9dfb-1bf95b7076e4, details=Starting RAG document search for query hash: 776402c6070f1ce2
2025-07-22 19:16:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=776402c6070f1ce2, severity_level=INFO, request_id=8035c0fa-c5f3-47e5-9dfb-1bf95b7076e4, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:16:52 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:16:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=776402c6070f1ce2, severity_level=INFO, request_id=8035c0fa-c5f3-47e5-9dfb-1bf95b7076e4, details=Sending request to LLM API. Conversation length: 11 messages, Current message length: 35 chars
2025-07-22 19:16:52 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:16:52 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:16:59 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=776402c6070f1ce2, severity_level=INFO, request_id=8035c0fa-c5f3-47e5-9dfb-1bf95b7076e4, details=Chat completed successfully. Processing time: 7.76s, Response length: 556 chars, Tokens used: 877, RAG documents: 0
2025-07-22 19:16:59 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 7.76 seconds
2025-07-22 19:22:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=6e3b6f3978e5cd96, severity_level=INFO, request_id=be8c35b7-e88a-4148-81f9-42069fe3b622, details=Chat request initiated. Message length: 21 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:22:06 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Hello, this is a test...
2025-07-22 19:22:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=6e3b6f3978e5cd96, severity_level=INFO, request_id=be8c35b7-e88a-4148-81f9-42069fe3b622, details=Starting RAG document search for query hash: 6e3b6f3978e5cd96
2025-07-22 19:22:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=6e3b6f3978e5cd96, severity_level=INFO, request_id=be8c35b7-e88a-4148-81f9-42069fe3b622, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:22:06 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:22:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=6e3b6f3978e5cd96, severity_level=INFO, request_id=be8c35b7-e88a-4148-81f9-42069fe3b622, details=Sending request to LLM API. Conversation length: 1 messages, Current message length: 21 chars
2025-07-22 19:22:06 | INFO     | backend.routes.chat:chat_completion:223 - Sending request to remote LLM API with conversation history
2025-07-22 19:22:06 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:22:08 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=6e3b6f3978e5cd96, severity_level=INFO, request_id=be8c35b7-e88a-4148-81f9-42069fe3b622, details=Chat completed successfully. Processing time: 2.16s, Response length: 130 chars, Tokens used: 92, RAG documents: 0
2025-07-22 19:22:08 | INFO     | backend.routes.chat:chat_completion:251 - Request processed in 2.16 seconds
2025-07-22 19:22:45 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 19:22:45 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 19:22:45 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 19:22:45 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 19:22:45 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 19:22:45 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 19:22:48 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 19:22:48 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 19:22:48 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 19:23:19 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=ea7be819-e2b0-434d-925d-52eef46a2d77, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2739, temperature: 1.0
2025-07-22 19:23:19 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: What is the name of the guy?...
2025-07-22 19:23:19 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=ea7be819-e2b0-434d-925d-52eef46a2d77, details=Starting RAG document search for query hash: f8526ea1cefa561f
2025-07-22 19:23:19 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=ea7be819-e2b0-434d-925d-52eef46a2d77, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:23:19 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:23:19 | INFO     | backend.routes.chat:chat_completion:186 - Processing 1 conversation history messages
2025-07-22 19:23:19 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=ea7be819-e2b0-434d-925d-52eef46a2d77, details=Sending request to LLM API. Conversation length: 2 messages, Current message length: 28 chars
2025-07-22 19:23:19 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 2 total messages
2025-07-22 19:23:20 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:23:24 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=f8526ea1cefa561f, severity_level=INFO, request_id=ea7be819-e2b0-434d-925d-52eef46a2d77, details=Chat completed successfully. Processing time: 4.45s, Response length: 329 chars, Tokens used: 140, RAG documents: 0
2025-07-22 19:23:24 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 4.45 seconds
2025-07-22 19:23:38 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=00b57247-3fc9-4d30-a160-d8a63e0d0f1a, details=Chat request initiated. Message length: 27 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2739, temperature: 1.0
2025-07-22 19:23:38 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnson hired?...
2025-07-22 19:23:38 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=00b57247-3fc9-4d30-a160-d8a63e0d0f1a, details=Starting RAG document search for query hash: 242e5bde6bd2fe62
2025-07-22 19:23:38 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=00b57247-3fc9-4d30-a160-d8a63e0d0f1a, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:23:38 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:23:38 | INFO     | backend.routes.chat:chat_completion:186 - Processing 3 conversation history messages
2025-07-22 19:23:38 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=00b57247-3fc9-4d30-a160-d8a63e0d0f1a, details=Sending request to LLM API. Conversation length: 4 messages, Current message length: 27 chars
2025-07-22 19:23:38 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 4 total messages
2025-07-22 19:23:38 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:23:44 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=00b57247-3fc9-4d30-a160-d8a63e0d0f1a, details=Chat completed successfully. Processing time: 6.29s, Response length: 439 chars, Tokens used: 248, RAG documents: 0
2025-07-22 19:23:44 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 6.29 seconds
2025-07-22 19:24:41 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e0bd749168e11172, severity_level=INFO, request_id=383aee9a-9bbd-444e-a5dd-9f45fb87720d, details=Chat request initiated. Message length: 22 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2739, temperature: 1.0
2025-07-22 19:24:41 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Who is the guy called?...
2025-07-22 19:24:41 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e0bd749168e11172, severity_level=INFO, request_id=383aee9a-9bbd-444e-a5dd-9f45fb87720d, details=Starting RAG document search for query hash: e0bd749168e11172
2025-07-22 19:24:41 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e0bd749168e11172, severity_level=INFO, request_id=383aee9a-9bbd-444e-a5dd-9f45fb87720d, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:24:41 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:24:41 | INFO     | backend.routes.chat:chat_completion:186 - Processing 1 conversation history messages
2025-07-22 19:24:41 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e0bd749168e11172, severity_level=INFO, request_id=383aee9a-9bbd-444e-a5dd-9f45fb87720d, details=Sending request to LLM API. Conversation length: 2 messages, Current message length: 22 chars
2025-07-22 19:24:41 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 2 total messages
2025-07-22 19:24:41 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:24:46 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e0bd749168e11172, severity_level=INFO, request_id=383aee9a-9bbd-444e-a5dd-9f45fb87720d, details=Chat completed successfully. Processing time: 5.17s, Response length: 408 chars, Tokens used: 150, RAG documents: 0
2025-07-22 19:24:46 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 5.17 seconds
2025-07-22 19:25:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=cc407eb6-6f5f-43b4-a286-ac68c5be10b1, details=Chat request initiated. Message length: 27 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2739, temperature: 1.0
2025-07-22 19:25:00 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnson hired?...
2025-07-22 19:25:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=cc407eb6-6f5f-43b4-a286-ac68c5be10b1, details=Starting RAG document search for query hash: 242e5bde6bd2fe62
2025-07-22 19:25:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=cc407eb6-6f5f-43b4-a286-ac68c5be10b1, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:25:00 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:25:00 | INFO     | backend.routes.chat:chat_completion:186 - Processing 3 conversation history messages
2025-07-22 19:25:00 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=cc407eb6-6f5f-43b4-a286-ac68c5be10b1, details=Sending request to LLM API. Conversation length: 4 messages, Current message length: 27 chars
2025-07-22 19:25:00 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 4 total messages
2025-07-22 19:25:00 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:25:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=cc407eb6-6f5f-43b4-a286-ac68c5be10b1, details=Chat completed successfully. Processing time: 6.43s, Response length: 446 chars, Tokens used: 262, RAG documents: 0
2025-07-22 19:25:06 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 6.43 seconds
2025-07-22 19:25:31 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=776402c6070f1ce2, severity_level=INFO, request_id=2cb800e1-f64e-4aa8-8b76-f8f85f459345, details=Chat request initiated. Message length: 35 chars, RAG enabled: False, selected_docs: 1 documents, max_tokens: 2739, temperature: 1.0
2025-07-22 19:25:31 | INFO     | backend.routes.chat:chat_completion:186 - Processing 5 conversation history messages
2025-07-22 19:25:31 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=776402c6070f1ce2, severity_level=INFO, request_id=2cb800e1-f64e-4aa8-8b76-f8f85f459345, details=Sending request to LLM API. Conversation length: 6 messages, Current message length: 35 chars
2025-07-22 19:25:31 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 6 total messages
2025-07-22 19:25:31 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:25:36 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=776402c6070f1ce2, severity_level=INFO, request_id=2cb800e1-f64e-4aa8-8b76-f8f85f459345, details=Chat completed successfully. Processing time: 5.01s, Response length: 348 chars, Tokens used: 350, RAG documents: 0
2025-07-22 19:25:36 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 5.01 seconds
2025-07-22 19:25:57 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=6d89f39667ce5590, severity_level=INFO, request_id=a063580b-c778-4de7-be3e-1533b69383a4, details=Chat request initiated. Message length: 28 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:25:57 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Can you see the context now?...
2025-07-22 19:25:57 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=6d89f39667ce5590, severity_level=INFO, request_id=a063580b-c778-4de7-be3e-1533b69383a4, details=Starting RAG document search for query hash: 6d89f39667ce5590
2025-07-22 19:25:57 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=6d89f39667ce5590, severity_level=INFO, request_id=a063580b-c778-4de7-be3e-1533b69383a4, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 19:25:57 | INFO     | backend.routes.chat:chat_completion:165 - Found 1 relevant documents
2025-07-22 19:25:57 | INFO     | backend.routes.chat:chat_completion:186 - Processing 7 conversation history messages
2025-07-22 19:25:57 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=6c0651082ff6db31, severity_level=INFO, request_id=a063580b-c778-4de7-be3e-1533b69383a4, details=Sending request to LLM API. Conversation length: 8 messages, Current message length: 2018 chars
2025-07-22 19:25:57 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 8 total messages
2025-07-22 19:25:57 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:26:19 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=6d89f39667ce5590, severity_level=INFO, request_id=a063580b-c778-4de7-be3e-1533b69383a4, details=Chat completed successfully. Processing time: 22.60s, Response length: 1658 chars, Tokens used: 1092, RAG documents: 1
2025-07-22 19:26:19 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 22.60 seconds
2025-07-22 19:26:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=22ae1e5b-fab3-4a7f-b2db-5f4929e9d7d8, details=Chat request initiated. Message length: 27 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 4000, temperature: 1.0
2025-07-22 19:26:45 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnson hired?...
2025-07-22 19:26:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=22ae1e5b-fab3-4a7f-b2db-5f4929e9d7d8, details=Starting RAG document search for query hash: 242e5bde6bd2fe62
2025-07-22 19:26:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=22ae1e5b-fab3-4a7f-b2db-5f4929e9d7d8, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:26:45 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:26:45 | INFO     | backend.routes.chat:chat_completion:186 - Processing 8 conversation history messages
2025-07-22 19:26:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=22ae1e5b-fab3-4a7f-b2db-5f4929e9d7d8, details=Sending request to LLM API. Conversation length: 9 messages, Current message length: 27 chars
2025-07-22 19:26:45 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 9 total messages
2025-07-22 19:26:45 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:26:52 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=22ae1e5b-fab3-4a7f-b2db-5f4929e9d7d8, details=Chat completed successfully. Processing time: 7.30s, Response length: 576 chars, Tokens used: 487, RAG documents: 0
2025-07-22 19:26:52 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 7.30 seconds
2025-07-22 19:27:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=f9ae631b-def6-4cf9-be23-254e224b0d19, details=Chat request initiated. Message length: 27 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2084, temperature: 0.7
2025-07-22 19:27:12 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnson hired?...
2025-07-22 19:27:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=f9ae631b-def6-4cf9-be23-254e224b0d19, details=Starting RAG document search for query hash: 242e5bde6bd2fe62
2025-07-22 19:27:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=f9ae631b-def6-4cf9-be23-254e224b0d19, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:27:12 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:27:12 | INFO     | backend.routes.chat:chat_completion:186 - Processing 9 conversation history messages
2025-07-22 19:27:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=f9ae631b-def6-4cf9-be23-254e224b0d19, details=Sending request to LLM API. Conversation length: 10 messages, Current message length: 27 chars
2025-07-22 19:27:12 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 10 total messages
2025-07-22 19:27:12 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:27:20 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=f9ae631b-def6-4cf9-be23-254e224b0d19, details=Chat completed successfully. Processing time: 7.17s, Response length: 562 chars, Tokens used: 492, RAG documents: 0
2025-07-22 19:27:20 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 7.17 seconds
2025-07-22 19:27:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d4209e78-7851-48f7-ac04-f3cee30e5f84, details=Chat request initiated. Message length: 27 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2084, temperature: 1.0
2025-07-22 19:27:35 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnson hired?...
2025-07-22 19:27:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d4209e78-7851-48f7-ac04-f3cee30e5f84, details=Starting RAG document search for query hash: 242e5bde6bd2fe62
2025-07-22 19:27:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d4209e78-7851-48f7-ac04-f3cee30e5f84, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:27:35 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:27:35 | INFO     | backend.routes.chat:chat_completion:186 - Processing 11 conversation history messages
2025-07-22 19:27:35 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d4209e78-7851-48f7-ac04-f3cee30e5f84, details=Sending request to LLM API. Conversation length: 12 messages, Current message length: 27 chars
2025-07-22 19:27:35 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 12 total messages
2025-07-22 19:27:35 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:27:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d4209e78-7851-48f7-ac04-f3cee30e5f84, details=Chat completed successfully. Processing time: 10.14s, Response length: 694 chars, Tokens used: 655, RAG documents: 0
2025-07-22 19:27:45 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 10.14 seconds
2025-07-22 19:29:02 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d034ad2b-6cc7-4726-9652-0a962f15c563, details=Chat request initiated. Message length: 27 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2084, temperature: 1.0
2025-07-22 19:29:02 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: When was mr. johnson hired?...
2025-07-22 19:29:02 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d034ad2b-6cc7-4726-9652-0a962f15c563, details=Starting RAG document search for query hash: 242e5bde6bd2fe62
2025-07-22 19:29:02 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d034ad2b-6cc7-4726-9652-0a962f15c563, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:29:02 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:29:02 | INFO     | backend.routes.chat:chat_completion:186 - Processing 13 conversation history messages
2025-07-22 19:29:02 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d034ad2b-6cc7-4726-9652-0a962f15c563, details=Sending request to LLM API. Conversation length: 14 messages, Current message length: 27 chars
2025-07-22 19:29:02 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 14 total messages
2025-07-22 19:29:02 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:29:08 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=242e5bde6bd2fe62, severity_level=INFO, request_id=d034ad2b-6cc7-4726-9652-0a962f15c563, details=Chat completed successfully. Processing time: 5.42s, Response length: 326 chars, Tokens used: 738, RAG documents: 0
2025-07-22 19:29:08 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 5.42 seconds
2025-07-22 19:32:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=e0bd749168e11172, severity_level=INFO, request_id=82a0dfc6-9df8-4f2a-9ef4-1e3bdc4bcd38, details=Chat request initiated. Message length: 22 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 19:32:06 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Who is the guy called?...
2025-07-22 19:32:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e0bd749168e11172, severity_level=INFO, request_id=82a0dfc6-9df8-4f2a-9ef4-1e3bdc4bcd38, details=Starting RAG document search for query hash: e0bd749168e11172
2025-07-22 19:32:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e0bd749168e11172, severity_level=INFO, request_id=82a0dfc6-9df8-4f2a-9ef4-1e3bdc4bcd38, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 19:32:06 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 19:32:06 | INFO     | backend.routes.chat:chat_completion:194 - No conversation history provided
2025-07-22 19:32:06 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e0bd749168e11172, severity_level=INFO, request_id=82a0dfc6-9df8-4f2a-9ef4-1e3bdc4bcd38, details=Sending request to LLM API. Conversation length: 1 messages, Current message length: 22 chars
2025-07-22 19:32:06 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 1 total messages
2025-07-22 19:32:07 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 19:32:11 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=e0bd749168e11172, severity_level=INFO, request_id=82a0dfc6-9df8-4f2a-9ef4-1e3bdc4bcd38, details=Chat completed successfully. Processing time: 4.43s, Response length: 306 chars, Tokens used: 132, RAG documents: 0
2025-07-22 19:32:11 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 4.43 seconds
2025-07-22 20:26:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=4b9acf9fbb4352ca, severity_level=INFO, request_id=41050750-a48c-4db0-b48f-007b438c6172, details=Chat request initiated. Message length: 48 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:26:45 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Who is the guy mentioned in the employment case?...
2025-07-22 20:26:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4b9acf9fbb4352ca, severity_level=INFO, request_id=41050750-a48c-4db0-b48f-007b438c6172, details=Starting RAG document search for query hash: 4b9acf9fbb4352ca
2025-07-22 20:26:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4b9acf9fbb4352ca, severity_level=INFO, request_id=41050750-a48c-4db0-b48f-007b438c6172, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 20:26:45 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 20:26:45 | INFO     | backend.routes.chat:chat_completion:194 - No conversation history provided
2025-07-22 20:26:45 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=4b9acf9fbb4352ca, severity_level=INFO, request_id=41050750-a48c-4db0-b48f-007b438c6172, details=Sending request to LLM API. Conversation length: 1 messages, Current message length: 48 chars
2025-07-22 20:26:45 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 1 total messages
2025-07-22 20:26:45 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:26:49 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=4b9acf9fbb4352ca, severity_level=INFO, request_id=41050750-a48c-4db0-b48f-007b438c6172, details=Chat completed successfully. Processing time: 3.97s, Response length: 284 chars, Tokens used: 125, RAG documents: 0
2025-07-22 20:26:49 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 3.97 seconds
2025-07-22 20:26:56 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=b27eb0256f579b86, severity_level=INFO, request_id=acea264c-4be2-4300-b347-d1d0676db02b, details=Chat request initiated. Message length: 18 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:26:56 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: employment dispute...
2025-07-22 20:26:56 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=b27eb0256f579b86, severity_level=INFO, request_id=acea264c-4be2-4300-b347-d1d0676db02b, details=Starting RAG document search for query hash: b27eb0256f579b86
2025-07-22 20:26:56 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=b27eb0256f579b86, severity_level=INFO, request_id=acea264c-4be2-4300-b347-d1d0676db02b, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 20:26:56 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 20:26:56 | INFO     | backend.routes.chat:chat_completion:194 - No conversation history provided
2025-07-22 20:26:56 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=b27eb0256f579b86, severity_level=INFO, request_id=acea264c-4be2-4300-b347-d1d0676db02b, details=Sending request to LLM API. Conversation length: 1 messages, Current message length: 18 chars
2025-07-22 20:26:56 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 1 total messages
2025-07-22 20:26:56 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:27:28 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=b27eb0256f579b86, severity_level=INFO, request_id=acea264c-4be2-4300-b347-d1d0676db02b, details=Chat completed successfully. Processing time: 32.63s, Response length: 2464 chars, Tokens used: 544, RAG documents: 0
2025-07-22 20:27:28 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 32.63 seconds
2025-07-22 20:35:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=56063b505b0d14a6, severity_level=INFO, request_id=6946d6ef-e17e-4f6c-a54b-5320095e643e, details=Chat request initiated. Message length: 23 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:35:15 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: John Johnson employment...
2025-07-22 20:35:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=56063b505b0d14a6, severity_level=INFO, request_id=6946d6ef-e17e-4f6c-a54b-5320095e643e, details=Starting RAG document search for query hash: 56063b505b0d14a6
2025-07-22 20:35:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=56063b505b0d14a6, severity_level=INFO, request_id=6946d6ef-e17e-4f6c-a54b-5320095e643e, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 20:35:15 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 20:35:15 | INFO     | backend.routes.chat:chat_completion:194 - No conversation history provided
2025-07-22 20:35:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=56063b505b0d14a6, severity_level=INFO, request_id=6946d6ef-e17e-4f6c-a54b-5320095e643e, details=Sending request to LLM API. Conversation length: 1 messages, Current message length: 23 chars
2025-07-22 20:35:15 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 1 total messages
2025-07-22 20:35:15 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:35:36 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=56063b505b0d14a6, severity_level=INFO, request_id=6946d6ef-e17e-4f6c-a54b-5320095e643e, details=Chat completed successfully. Processing time: 20.95s, Response length: 1601 chars, Tokens used: 372, RAG documents: 0
2025-07-22 20:35:36 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 20.95 seconds
2025-07-22 20:36:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=4fd7584814066639, severity_level=INFO, request_id=11d0fc67-f72d-497f-ab91-c4a42c7ccb71, details=Chat request initiated. Message length: 12 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:36:12 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: John Johnson...
2025-07-22 20:36:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4fd7584814066639, severity_level=INFO, request_id=11d0fc67-f72d-497f-ab91-c4a42c7ccb71, details=Starting RAG document search for query hash: 4fd7584814066639
2025-07-22 20:36:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=4fd7584814066639, severity_level=INFO, request_id=11d0fc67-f72d-497f-ab91-c4a42c7ccb71, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 20:36:12 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 20:36:12 | INFO     | backend.routes.chat:chat_completion:194 - No conversation history provided
2025-07-22 20:36:12 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=4fd7584814066639, severity_level=INFO, request_id=11d0fc67-f72d-497f-ab91-c4a42c7ccb71, details=Sending request to LLM API. Conversation length: 1 messages, Current message length: 12 chars
2025-07-22 20:36:12 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 1 total messages
2025-07-22 20:36:12 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:36:21 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=4fd7584814066639, severity_level=INFO, request_id=11d0fc67-f72d-497f-ab91-c4a42c7ccb71, details=Chat completed successfully. Processing time: 8.78s, Response length: 682 chars, Tokens used: 197, RAG documents: 0
2025-07-22 20:36:21 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 8.78 seconds
2025-07-22 20:37:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=0b22f40bb71c86c9, severity_level=INFO, request_id=0f858a32-7eb8-4390-bc6e-ea3beddb6052, details=Chat request initiated. Message length: 10 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:37:01 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: employment...
2025-07-22 20:37:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=0b22f40bb71c86c9, severity_level=INFO, request_id=0f858a32-7eb8-4390-bc6e-ea3beddb6052, details=Starting RAG document search for query hash: 0b22f40bb71c86c9
2025-07-22 20:37:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=0b22f40bb71c86c9, severity_level=INFO, request_id=0f858a32-7eb8-4390-bc6e-ea3beddb6052, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 20:37:01 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 20:37:01 | INFO     | backend.routes.chat:chat_completion:194 - No conversation history provided
2025-07-22 20:37:01 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=0b22f40bb71c86c9, severity_level=INFO, request_id=0f858a32-7eb8-4390-bc6e-ea3beddb6052, details=Sending request to LLM API. Conversation length: 1 messages, Current message length: 10 chars
2025-07-22 20:37:01 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 1 total messages
2025-07-22 20:37:01 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:37:27 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=0b22f40bb71c86c9, severity_level=INFO, request_id=0f858a32-7eb8-4390-bc6e-ea3beddb6052, details=Chat completed successfully. Processing time: 26.01s, Response length: 2215 chars, Tokens used: 462, RAG documents: 0
2025-07-22 20:37:27 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 26.01 seconds
2025-07-22 20:38:28 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=9f86d081884c7d65, severity_level=INFO, request_id=047e36c7-5afa-49f6-9dab-66bc41bf2049, details=Chat request initiated. Message length: 4 chars, RAG enabled: True, selected_docs: all documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:38:28 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: test...
2025-07-22 20:38:28 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=9f86d081884c7d65, severity_level=INFO, request_id=047e36c7-5afa-49f6-9dab-66bc41bf2049, details=Starting RAG document search for query hash: 9f86d081884c7d65
2025-07-22 20:38:28 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=9f86d081884c7d65, severity_level=INFO, request_id=047e36c7-5afa-49f6-9dab-66bc41bf2049, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 20:38:28 | INFO     | backend.routes.chat:chat_completion:179 - No relevant documents found in RAG search
2025-07-22 20:38:28 | INFO     | backend.routes.chat:chat_completion:194 - No conversation history provided
2025-07-22 20:38:28 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=9f86d081884c7d65, severity_level=INFO, request_id=047e36c7-5afa-49f6-9dab-66bc41bf2049, details=Sending request to LLM API. Conversation length: 1 messages, Current message length: 4 chars
2025-07-22 20:38:28 | INFO     | backend.routes.chat:chat_completion:227 - Sending request to remote LLM API with 1 total messages
2025-07-22 20:38:28 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:38:30 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.22621.4111, content_hash=9f86d081884c7d65, severity_level=INFO, request_id=047e36c7-5afa-49f6-9dab-66bc41bf2049, details=Chat completed successfully. Processing time: 2.64s, Response length: 170 chars, Tokens used: 95, RAG documents: 0
2025-07-22 20:38:30 | INFO     | backend.routes.chat:chat_completion:260 - Request processed in 2.64 seconds
2025-07-22 20:41:05 | INFO     | __main__:main:75 - Starting Law Firm AI Assistant Backend
2025-07-22 20:41:05 | INFO     | __main__:validate_environment:57 - Environment validation passed
2025-07-22 20:41:05 | INFO     | __main__:create_directories:69 - Ensured directory exists: logs
2025-07-22 20:41:05 | INFO     | __main__:create_directories:69 - Ensured directory exists: data
2025-07-22 20:41:05 | INFO     | __main__:create_directories:69 - Ensured directory exists: ./data/chroma_db
2025-07-22 20:41:05 | INFO     | __main__:main:88 - Server configuration: 0.0.0.0:8000 (debug=False)
2025-07-22 20:41:08 | INFO     | backend.main:startup_event:47 - Starting Law Firm AI Assistant API
2025-07-22 20:41:08 | INFO     | backend.main:startup_event:48 - LLM API URL: http://localhost:1234/v1/chat/completions
2025-07-22 20:41:08 | INFO     | backend.main:startup_event:49 - ChromaDB Path: ./data/chroma_db
2025-07-22 20:41:55 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=a19c407d79b97c6b, severity_level=INFO, request_id=a376eb3a-3373-4f8d-91af-6dff83f71c88, details=Chat request initiated. Message length: 38 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Who is the guy mentioned in this case?...
2025-07-22 20:41:55 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=a19c407d79b97c6b, severity_level=INFO, request_id=a376eb3a-3373-4f8d-91af-6dff83f71c88, details=Starting RAG document search for query hash: a19c407d79b97c6b
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:132 - RAG Search - Selected document IDs: ['doc_b778_9e24a4d7']
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:137 - RAG Service - Collection count before search: 1
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:141 - RAG Service - Documents in collection: 1
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:143 - RAG Service - Doc: Case.txt (ID: doc_b778_9e24a4d7)
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:155 - RAG Search - Raw results returned: 1 items
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:157 - Raw Result 0: similarity=0.01021794374224605, distance=1.979564112515508, content='Case Title: Johnson v. ApexCorp, Inc. Summary: Thi...'
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:168 - RAG Search - Filtered results: 1 documents
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:170 - RAG Result 0: similarity=0.01021794374224605, content='Case Title: Johnson v. ApexCorp, Inc. Summary: This case involves an employment dispute between Mr. ...'
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:180 - RAG Context - Formatted context length: 1733 chars
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:181 - RAG Context - Preview: [Source: Case.txt]
Case Title: Johnson v. ApexCorp, Inc. Summary: This case involves an employment dispute between Mr. Thomas Johnson, a former software engineer at ApexCorp, and the company s managem...
2025-07-22 20:41:55 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=a19c407d79b97c6b, severity_level=INFO, request_id=a376eb3a-3373-4f8d-91af-6dff83f71c88, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:196 - Found 1 relevant documents
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:217 - Processing 1 conversation history messages
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:240 - RAG Enhanced Message - Length: 2028 chars
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:241 - RAG Enhanced Message - Preview: Based on the following legal documents and context, please answer the question:

CONTEXT:
[Source: Case.txt]
Case Title: Johnson v. ApexCorp, Inc. Summary: This case involves an employment dispute between Mr. Thomas Johnson, a former software engineer at ApexCorp, and the company s management. Mr. J...
2025-07-22 20:41:55 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=3041e8bbb1261d10, severity_level=INFO, request_id=a376eb3a-3373-4f8d-91af-6dff83f71c88, details=Sending request to LLM API. Conversation length: 2 messages, Current message length: 2028 chars
2025-07-22 20:41:55 | INFO     | backend.routes.chat:chat_completion:264 - Sending request to remote LLM API with 2 total messages
2025-07-22 20:41:55 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:42:04 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=a19c407d79b97c6b, severity_level=INFO, request_id=a376eb3a-3373-4f8d-91af-6dff83f71c88, details=Chat completed successfully. Processing time: 9.39s, Response length: 523 chars, Tokens used: 602, RAG documents: 1
2025-07-22 20:42:04 | INFO     | backend.routes.chat:chat_completion:297 - Request processed in 9.39 seconds
2025-07-22 20:42:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=a95d304e-171b-4f08-a909-44dce6cc4a77, details=Chat request initiated. Message length: 26 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: How can I solve this case?...
2025-07-22 20:42:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=a95d304e-171b-4f08-a909-44dce6cc4a77, details=Starting RAG document search for query hash: e6408758942bc9b0
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:132 - RAG Search - Selected document IDs: ['doc_b778_9e24a4d7']
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:137 - RAG Service - Collection count before search: 1
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:141 - RAG Service - Documents in collection: 1
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:143 - RAG Service - Doc: Case.txt (ID: doc_b778_9e24a4d7)
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:155 - RAG Search - Raw results returned: 1 items
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:157 - Raw Result 0: similarity=0.0, distance=2.0357239728145378, content='Case Title: Johnson v. ApexCorp, Inc. Summary: Thi...'
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:168 - RAG Search - Filtered results: 0 documents
2025-07-22 20:42:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_NO_RESULTS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=a95d304e-171b-4f08-a909-44dce6cc4a77, details=No relevant documents found above similarity threshold (0.001)
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:210 - No relevant documents found in RAG search
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:217 - Processing 3 conversation history messages
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:243 - RAG - No context found, sending original message only
2025-07-22 20:42:15 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=a95d304e-171b-4f08-a909-44dce6cc4a77, details=Sending request to LLM API. Conversation length: 4 messages, Current message length: 26 chars
2025-07-22 20:42:15 | INFO     | backend.routes.chat:chat_completion:264 - Sending request to remote LLM API with 4 total messages
2025-07-22 20:42:15 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:42:32 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=e6408758942bc9b0, severity_level=INFO, request_id=a95d304e-171b-4f08-a909-44dce6cc4a77, details=Chat completed successfully. Processing time: 17.23s, Response length: 1428 chars, Tokens used: 475, RAG documents: 0
2025-07-22 20:42:32 | INFO     | backend.routes.chat:chat_completion:297 - Request processed in 17.23 seconds
2025-07-22 20:43:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_INITIATED, status=initiated, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=b80c47a26ad11f4c, severity_level=INFO, request_id=eef3e2e6-9f5c-4a89-a29e-6e7593ae8e42, details=Chat request initiated. Message length: 18 chars, RAG enabled: True, selected_docs: 1 documents, max_tokens: 2048, temperature: 0.7
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:117 - Retrieving RAG context for query: Summerize the case...
2025-07-22 20:43:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_INITIATED, status=initiated, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=b80c47a26ad11f4c, severity_level=INFO, request_id=eef3e2e6-9f5c-4a89-a29e-6e7593ae8e42, details=Starting RAG document search for query hash: b80c47a26ad11f4c
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:132 - RAG Search - Selected document IDs: ['doc_b778_9e24a4d7']
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:137 - RAG Service - Collection count before search: 1
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:141 - RAG Service - Documents in collection: 1
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:143 - RAG Service - Doc: Case.txt (ID: doc_b778_9e24a4d7)
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:155 - RAG Search - Raw results returned: 1 items
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:157 - Raw Result 0: similarity=0.002626843951642255, distance=1.9947463120967155, content='Case Title: Johnson v. ApexCorp, Inc. Summary: Thi...'
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:168 - RAG Search - Filtered results: 1 documents
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:170 - RAG Result 0: similarity=0.002626843951642255, content='Case Title: Johnson v. ApexCorp, Inc. Summary: This case involves an employment dispute between Mr. ...'
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:180 - RAG Context - Formatted context length: 1733 chars
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:181 - RAG Context - Preview: [Source: Case.txt]
Case Title: Johnson v. ApexCorp, Inc. Summary: This case involves an employment dispute between Mr. Thomas Johnson, a former software engineer at ApexCorp, and the company s managem...
2025-07-22 20:43:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=RAG_QUERY_SUCCESS, status=success, resource=rag_service, ip_address=127.0.0.1, user_agent=, content_hash=b80c47a26ad11f4c, severity_level=INFO, request_id=eef3e2e6-9f5c-4a89-a29e-6e7593ae8e42, details=Found 1 relevant documents. Sources: Case.txt
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:196 - Found 1 relevant documents
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:217 - Processing 5 conversation history messages
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:240 - RAG Enhanced Message - Length: 2008 chars
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:241 - RAG Enhanced Message - Preview: Based on the following legal documents and context, please answer the question:

CONTEXT:
[Source: Case.txt]
Case Title: Johnson v. ApexCorp, Inc. Summary: This case involves an employment dispute between Mr. Thomas Johnson, a former software engineer at ApexCorp, and the company s management. Mr. J...
2025-07-22 20:43:22 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=LLM_API_CALL_INITIATED, status=initiated, resource=llm_api, ip_address=127.0.0.1, user_agent=, content_hash=6e2df26839b5d56c, severity_level=INFO, request_id=eef3e2e6-9f5c-4a89-a29e-6e7593ae8e42, details=Sending request to LLM API. Conversation length: 6 messages, Current message length: 2008 chars
2025-07-22 20:43:22 | INFO     | backend.routes.chat:chat_completion:264 - Sending request to remote LLM API with 6 total messages
2025-07-22 20:43:22 | INFO     | backend.services.llm_client:chat_completion:102 - Sending request to LLM API: http://localhost:1234/v1/chat/completions
2025-07-22 20:43:49 | INFO     | backend.routes.chat:log_chat_audit:63 - AUDIT_LOG: action_type=CHAT_COMPLETED, status=success, resource=chat_completion, ip_address=127.0.0.1, user_agent=python-requests/2.31.0, content_hash=b80c47a26ad11f4c, severity_level=INFO, request_id=eef3e2e6-9f5c-4a89-a29e-6e7593ae8e42, details=Chat completed successfully. Processing time: 27.37s, Response length: 1856 chars, Tokens used: 1290, RAG documents: 1
2025-07-22 20:43:49 | INFO     | backend.routes.chat:chat_completion:297 - Request processed in 27.37 seconds
